<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>평택진위쌍용스마트어반</title>
    <link rel="icon" href="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/logo1.webp" type="image/webp"> <!-- 탭 로고 추가 -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #8B5CF6 0%, #A855F7 50%, #C084FC 100%);
            --secondary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --card-gradient: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            --highlight-gradient: linear-gradient(120deg, #fbbf24, #f59e0b);
            --location-gradient: linear-gradient(120deg, #10b981, #059669);
            --primary-color: #8B5CF6;
            --primary-dark: #4c1d95;
            --text-color: #1e293b;
            --text-light: #e2e8f0;
            --border-color: rgba(139, 92, 246, 0.1);
            --hover-bg: rgba(139, 92, 246, 0.05);
            --shadow-light: 0 10px 20px rgba(0, 0, 0, 0.1);
            --shadow-hover: 0 20px 40px rgba(139, 92, 246, 0.15);
            --animation-play-state: running; /* Default animation state for JS control */
            --dark-navy-color: #1A2B3C; /* 진네이비 색상 정의 */
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Prioritize Noto Sans KR */
            background-color: #f4f4f4; /* Changed to solid color as per original index.html */
            color: #333;
            line-height: 1.6;
            overflow-x: hidden; /* Prevent horizontal scroll */
        }

        /* Header styles */
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); /* Changed to gradient */
            color: #fff;
            height: 60px;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1001; /* 캔버스보다 위에 오도록 z-index 조정 */
            transition: background 0.3s ease; /* 배경 전환 효과만 추가 */
        }

        /* 스크롤 시 헤더 스타일 */
        header.scrolled {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.5) 0%, rgba(118, 75, 162, 0.5) 100%); /* 투명도 50% 적용된 그라디언트 */
        }

        .logo a {
            color: #fff;
            text-decoration: none;
            font-size: 1.2em;
            font-weight: bold;
            transition: color 0.3s ease; /* 텍스트 색상 전환 효과 추가 */
        }
        /* 스크롤 시 로고 텍스트 색상 */
        header.scrolled .logo a {
            color: var(--dark-navy-color); /* 진네이비 색상 적용 */
        }

        /* Navigation menu styles (desktop) */
        .nav-menu ul {
            list-style: none;
            display: flex; /* Horizontal alignment for desktop */
            gap: 15px;
            margin: 0;
            padding: 0;
        }
        .nav-menu ul li a {
            color: #fff;
            text-decoration: none;
            padding: 8px 12px;
            border-radius: 4px;
            transition: background-color 0.3s ease, color 0.3s ease; /* 배경색 및 텍스트 색상 전환 효과 추가 */
        }
        .nav-menu ul li a:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
        /* 스크롤 시 네비게이션 텍스트 색상 */
        header.scrolled .nav-menu ul li a {
            color: var(--dark-navy-color); /* 진네이비 색상 적용 */
        }


        /* Hamburger menu button (hidden on desktop) */
        .hamburger-menu {
            display: none;
            background: rgba(255, 255, 255, 0.1); /* Subtle background */
            border: none;
            cursor: pointer;
            padding: 10px;
            z-index: 1005; /* Above navigation menu */
            margin-left: auto; /* Push to the right */
            border-radius: 4px; /* Rounded corners for the button */
            transition: background-color 0.3s ease; /* Smooth transition */
        }
        .hamburger-menu:hover {
            background: rgba(255, 255, 255, 0.2); /* Slightly more opaque on hover */
        }
        .hamburger-menu span {
            display: block;
            width: 25px;
            height: 3px;
            background-color: #fff;
            margin: 5px 0;
            transition: all 0.3s ease-in-out;
        }
        /* 스크롤 시 햄버거 메뉴 아이콘 색상 */
        header.scrolled .hamburger-menu span {
            background-color: var(--dark-navy-color); /* 진네이비 색상 적용 */
        }

        /* Hamburger menu active state (changes to X shape) */
        .hamburger-menu.active span:nth-child(1) {
            transform: translateY(8px) rotate(45deg);
        }
        .hamburger-menu.active span:nth-child(2) {
            opacity: 0;
        }
        .hamburger-menu.active span:nth-child(3) {
            transform: translateY(-8px) rotate(-45deg);
        }

        /* Container for main content */
        .container { /* This is the form section container now */
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            background: none;
            box-shadow: none;
            border-radius: 0;
            -webkit-backdrop-filter: none;
            backdrop-filter: none;
            animation: none;
        }
        /* Intro section styles - These are replaced by unit-main-container now */
        .intro {
            text-align: center;
            padding: 20px;
            margin-top: 30px;
        }
        .intro h2 {
            color: #004d40;
            margin-bottom: 15px;
        }
        .intro p {
            font-size: 1.1em;
            color: #555;
        }
        /* Form section styles */
        .form-section {
            width: 100%;
            max-width: 800px;
            margin: 0 auto 60px;
            background: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
            box-sizing: border-box; /* Padding included in width */
        }
        .form-section h3 {
            margin-bottom: 20px;
            color: #004d40;
            text-align: center;
        }

        .form-section label:not([for="agreeCheckbox"]) {
            display: block;
            margin-top: 15px;
            margin-bottom: 5px;
            font-weight: 500;
            color: #333;
        }

        /* Style for required text */
        .required-text {
            color: #e74c3c; /* Red color */
            font-size: 0.9em;
            margin-left: 5px;
        }

        .form-section input,
        .form-section select,
        .form-section textarea {
            width: 100%;
            padding: 12px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 1em;
            box-sizing: border-box;
        }
        .form-section textarea {
            margin-bottom: 15px;
        }

        .form-section label[for="agreeCheckbox"] {
            display: flex;
            align-items: center;
            font-weight: normal;
            margin-top: 15px;
            font-size: 0.9em;
            color: #555;
            cursor: pointer;
        }
        .form-section label[for="agreeCheckbox"] input[type="checkbox"] {
            width: auto;
            margin-right: 8px;
            margin-bottom: 0;
        }

        .form-section button {
            padding: 12px 25px;
            background-color: #004d40;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1.1em;
            width: 100%;
            margin-top: 10px;
            transition: background-color 0.3s ease;
        }
        .form-section button:hover:not(.btn-disabled) {
            background-color: #00332d;
        }
        .form-section button.btn-disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
        .form-section button.btn-disabled:hover {
            background-color: #bbb;
        }

        .privacy-text {
            font-size: 0.9em;
            color: #777;
            margin-top: 15px;
            line-height: 1.4;
        }

        /* Intro image section with canvas background - this entire section is now removed */
        .intro-image-section {
            display: none; /* Hide it completely */
        }

        /* Responsive styles - mobile */
        @media (max-width: 768px) {
            .intro-image-section {
                display: none; /* Ensure hidden on mobile too */
            }

            /* Mobile navigation */
            .nav-menu > ul { /* Hide horizontal menu */
                display: none;
            }
            .hamburger-menu { /* Show hamburger button */
                display: block;
            }

            /* Navigation menu when open (mobile) */
            .nav-menu.nav-open > ul {
                display: flex;
                flex-direction: column; /* Vertical alignment */
                position: absolute;
                top: 60px; /* Below header */
                left: 0;
                right: 0; /* Equivalent to width: 100%; */
                background: linear-gradient(135deg, rgba(102, 126, 234, 0.9) 0%, rgba(118, 75, 162, 0.9) 100%); /* Mobile menu also gradient */
                padding: 0;
                box-shadow: 0 4px 6px rgba(0,0,0,0.1);
                z-index: 999; /* Above other content */
            }
            .nav-menu.nav-open > ul li {
                width: 100%;
                text-align: center;
            }
            .nav-menu.nav-open > ul li a {
                display: block; /* Make entire link area clickable */
                padding: 15px 20px;
                border-bottom: 1px solid rgba(255, 255, 255, 0.08);
            }
            .nav-menu.nav-open > ul li:last-child a {
                border-bottom: none;
            }
            .nav-menu.nav-open > ul li a:hover {
                background-color: rgba(255, 255, 255, 0.1);
            }

            /* Mobile-only line break */
            .mobile-only-break {
                display: block; /* Show on mobile */
            }
        }

        /* Desktop-only line break */
        .mobile-only-break {
            display: none; /* Hidden by default on desktop */
        }

        .highlight-title {
            font-size: 1.8em;
            font-weight: 700;
        }
        /* Keyframe animations */
        @keyframes fadeInLogo {
            0% { opacity: 0; transform: translate(-50%, -60%) scale(0.5); }
            100% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }
        @keyframes sparkle {
            0% {
                background-color: #ff9800;
                box-shadow: 0 0 5px #ff9800;
            }
            100% {
                background-color: #ffc107;
                box-shadow: 0 0 20px #ffc107;
            }
        }
        @keyframes neonPulse {
            0% {
                filter: drop-shadow(0 0 5px rgba(0,255,255,0.5)) drop-shadow(0 0 10px rgba(0,255,255,0.5));
            }
            100% {
                filter: drop-shadow(0 0 20px rgba(0,255,255,1)) drop-shadow(0 0 30px rgba(0,255,255,1));
            }
        }
        @keyframes fadeInEntrance {
            0% {
                opacity: 0;
                transform: translate(-50%, -60%) scale(0.5);
            }
            100% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }
        @keyframes neonStroke {
            0% {
                background-position: 200% center;
            }
            100% {
                background-position: -200% center;
            }
        }
        /* Sparkle and Shooting Star canvas styles */
        #sparkle-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%; /* Fit parent width */
            height: 100%; /* Fit parent height */
            pointer-events: none; /* Allows clicks to pass through to elements below */
            z-index: 10; /* 애니메이션을 가장 앞으로 오게 조정 */
            display: block;
        }
        /* Explicit z-index for background image to ensure correct layering */
        /* .intro-image-section img:first-of-type { z-index: 0; } -> Removed */

        /* 특정 로고 이미지 숨김 */
        .intro-image-section img[alt*="로고"][src*="Smart_URBAN_logo"] {
            display: none;
        }

        /* 배경 이미지 블러 처리 - Removed */
        #videoPopup {
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100vw;
            height: 100vh;
            display: none; /* Initial state hidden */
            align-items: center;
            justify-content: center;
        }
        .popup-bg {
            position: absolute;
            left: 0;
            top: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0,0,0,0.5);
        }
        .popup-box {
            position: relative;
            background: #fff;
            padding: 0;
            border-radius: 18px;
            box-shadow: 0 6px 32px rgba(0,0,0,0.15);
            max-width: 96vw;
            width: 400px;
            max-height: 80vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .close-btn {
            position: absolute;
            top: 6px;
            right: 10px;
            background: #004d40; /* Changed to primary color */
            color: #fff;
            border: none;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            font-size: 1.2em;
            cursor: pointer;
        }

        /* Accessibility improvements */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation: none !important;
                transition: none !important;
            }
        }
        /* Dark mode support */
        @media (prefers-color-scheme: dark) {
        }
        /* Print optimization */
        @media print {
            body {
                background: white;
                padding: 0;
            }
            .container { /* This style is not directly used for the table wrapper, but keeping for consistency */
                box-shadow: none;
                border-radius: 0;
                background: white;
            }
        }

        @media (max-width:500px){
            .popup-box{ width: 97vw; min-width: 0; max-width: 98vw; }
        }

        /* UNIT.html styles */
        .unit-main-container { /* New container for unit content */
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            padding-top: 60px; /* Adjust for fixed header */
            position: relative; /* Added for absolute positioning of canvas */
        }

        .unit-container { /* Main content container from original unit.html */
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .unit-header { /* Header from original unit.html */
            text-align: center;
            margin-bottom: 40px;
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .unit-header h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
        }

        .unit-header p {
            font-size: 1.1rem;
            color: #666;
            margin-bottom: 10px;
        }

        .project-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
            padding: 20px;
            background: rgba(102, 126, 234, 0.1);
            border-radius: 15px;
        }

        .info-item {
            text-align: left;
        }

        .info-label {
            font-weight: 600;
            color: #667eea;
            font-size: 0.9rem;
        }

        .info-value {
            font-size: 1rem;
            color: #333;
            margin-top: 5px;
        }

        .units-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .unit-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 0;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .unit-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            z-index: 1;
        }

        .unit-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        /* 이미지 영역 */
        .unit-image {
            width: 100%;
            aspect-ratio: 1066 / 677; /* Set aspect ratio to 1066x677 */
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 20px 20px 0 0;
        }

        .unit-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .unit-card:hover .unit-image img {
            transform: scale(1.05);
        }

        .image-placeholder {
            color: #667eea;
            font-size: 3rem;
            opacity: 0.3;
        }

        .image-upload-hint {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(255, 255, 255, 0.9);
            color: #667eea;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        /* 카드 콘텐츠 영역 */
        .unit-content {
            padding: 25px;
        }

        .unit-type {
            font-size: 1.8rem;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .unit-count {
            font-size: 1rem;
            color: #764ba2;
            font-weight: 600;
            background: rgba(118, 75, 162, 0.1);
            padding: 5px 12px;
            border-radius: 20px;
        }

        .unit-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .detail-item {
            background: rgba(102, 126, 234, 0.05);
            padding: 12px;
            border-radius: 10px;
            border-left: 3px solid #667eea;
        }

        .detail-label {
            font-size: 0.8rem;
            color: #888;
            margin-bottom: 5px;
        }

        .detail-value {
            font-size: 1.1rem;
            font-weight: 600;
            color: #333;
        }

        .unit-features {
            margin-top: 15px;
            padding: 15px;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
            border-radius: 10px;
        }

        .features-title {
            font-size: 0.9rem;
            color: #667eea;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .features-list {
            font-size: 0.85rem;
            color: #666;
            line-height: 1.4;
        }

        /* 모달 스타일 */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: white;
            margin: 5% auto;
            padding: 0;
            border-radius: 20px;
            width: 90%;
            max-width: 700px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .modal-header {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 20px 20px 0 0;
            position: relative;
        }

        .modal-title {
            margin: 0;
            font-size: 1.5rem;
            font-weight: 600;
        }

        .close {
            position: absolute;
            right: 20px;
            top: 20px;
            color: white;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background-color 0.3s;
        }

        .close:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .modal-body {
            padding: 30px;
        }

        .modal-image {
            width: 100%;
            aspect-ratio: 1066 / 677; /* Set aspect ratio to 1066x677 */
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
            border-radius: 15px;
            margin-bottom: 25px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .modal-detail-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .modal-detail-item {
            background: rgba(102, 126, 234, 0.05);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid rgba(102, 126, 234, 0.1);
        }

        .modal-detail-label {
            font-size: 0.9rem;
            color: #888;
            margin-bottom: 8px;
        }

        .modal-detail-value {
            font-size: 1.3rem;
            font-weight: 700;
            color: #667eea;
        }

        .modal-features {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
        }

        .features-title {
            font-size: 0.9rem;
            color: #667eea;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .features-list {
            font-size: 0.85rem;
            color: #666;
            line-height: 1.4;
        }

        /* 반응형 디자인 */
        @media (max-width: 768px) {
            .unit-container {
                padding: 15px;
            }

            .unit-header h1 {
                font-size: 2rem;
            }

            .units-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .unit-details {
                grid-template-columns: 1fr;
            }

            .modal-content {
                width: 95%;
                margin: 10% auto;
            }

            .project-info {
                grid-template-columns: 1fr;
            }

            .unit-image {
                aspect-ratio: 1066 / 677; /* Maintain aspect ratio */
            }

            .modal-image {
                aspect-ratio: 1066 / 677; /* Maintain aspect ratio */
            }
        }
    </style>
</head>
<body>
    <header id="main-header"> <!-- ID 추가 -->
        <div class="logo">
            <a href="https://xn--vk1bl3rxogh2b96d75ueibs8g.shop/" style="display: flex; align-items: center; gap: 8px; text-decoration: none; font-size: 1.2em; font-weight: bold;">
                <img src="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/logo1.webp" alt="쌍용 로고" style="height: 28px; width: auto; vertical-align: middle;">
                쌍용 스마트어반
            </a>
        </div>

        <button class="hamburger-menu" aria-label="메뉴 열기" aria-expanded="false" aria-controls="navigation-menu">
            <span></span>
            <span></span>
            <span></span>
        </button>
        <nav class="nav-menu">
            <ul id="navigation-menu">
                <li><a href="http://xn--hz2bi6bv5i8las3i6ubq69b.com/theme/theme06/vr/tour1.html">VR홍보관</a></li>
                <li><a href="unit.html">유니트(UNIT)</a></li>
                <li><a href="tel:1688-5925">1688-5925</a></li>
            </ul>
        </nav>
    </header>

    <div id="videoPopup" style="display: none;">
        <div class="popup-bg"></div>
        <div class="popup-box">
            <video id="popupVideo" src="https://github.com/JUNGDONGSU/smate-urban/raw/main/smartUrban.mp4" controls autoplay playsinline muted style="width:100%;border-radius:16px;"></video>
            <button class="close-btn" onclick="closePopup()">✖</button>
        </div>
    </div>

    <!-- 세대 안내 섹션 시작 -->
    <div class="unit-main-container">
        <canvas id="sparkle-canvas"></canvas> <!-- Canvas moved inside unit-main-container -->
        <div class="unit-container">
            <div class="unit-header">
                <h1>세 대 안 내</h1>
                <p>청약 없는 전세형 민간임대</p>
                <p>경기도 평택시 진위면 가곡리 235-14번지 일원</p>

                <div class="project-info">
                    <div class="info-item">
                        <div class="info-label">총 세대수</div>
                        <div class="info-value">1,228세대</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">건축규모</div>
                        <div class="info-value">지하2층~지상29층</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">주차대수</div>
                        <div class="info-value">1,601대 (법정 130%)</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">용적률</div>
                        <div class="info-value">187.63% (법정 200%)</div>
                    </div>
                </div>
            </div>

            <div class="units-grid" id="unitsGrid">
                <!-- 유닛 카드들이 여기에 JavaScript로 생성됩니다 -->
            </div>
        </div>
    </div>
    <!-- 세대 안내 섹션 끝 -->

    <!-- 모달 창 -->
    <div id="unitModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">세대 상세 정보</h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- 모달 내용이 여기에 동적으로 생성됩니다 -->
            </div>
        </div>
    </div>

    <script>
        // Video Popup functions
        function openPopup() {
            document.getElementById("videoPopup").style.display = "flex";
            const video = document.getElementById("popupVideo");
            video.play().catch(error => {
                console.log("비디오 자동 재생 실패 (사용자 상호작용 필요):", error);
            });
        }

        function closePopup() {
            document.getElementById("videoPopup").style.display = "none";
            document.getElementById("popupVideo").pause();
            document.getElementById("popupVideo").currentTime = 0;
        }

        // --- Mobile Navigation (Hamburger Menu) Logic ---
        const hamburgerButton = document.querySelector('.hamburger-menu');
        const navigationMenu = document.querySelector('.nav-menu');
        const navLinks = document.querySelectorAll('.nav-menu ul li a');

        if (hamburgerButton && navigationMenu) {
            hamburgerButton.addEventListener('click', () => {
                navigationMenu.classList.toggle('nav-open'); // Toggle class on <nav> element
                hamburgerButton.classList.toggle('active'); // Toggle class on hamburger button itself (for X shape)

                // Update ARIA attributes for accessibility
                const isExpanded = navigationMenu.classList.contains('nav-open');
                hamburgerButton.setAttribute('aria-expanded', isExpanded);
                if (isExpanded) {
                    hamburgerButton.setAttribute('aria-label', '메뉴 닫기');
                } else {
                    hamburgerButton.setAttribute('aria-label', '메뉴 열기');
                }
            });

            // Close menu when a link is clicked in mobile navigation
            navLinks.forEach(link => {
                link.addEventListener('click', () => {
                    if (navigationMenu.classList.contains('nav-open')) {
                        navigationMenu.classList.remove('nav-open');
                        hamburgerButton.classList.remove('active');
                        hamburgerButton.setAttribute('aria-expanded', 'false');
                        hamburgerButton.setAttribute('aria-label', '메뉴 열기');
                    }
                });
            });
        }
        // --- End of Mobile Navigation Logic ---

        // --- Scroll-based Header Transparency and Color Change Logic ---
        const mainHeader = document.getElementById('main-header'); // 헤더 요소 가져오기
        const logoLink = mainHeader.querySelector('.logo a'); // 로고 링크 요소
        const navMenuLinks = mainHeader.querySelectorAll('.nav-menu ul li a'); // 네비게이션 링크 요소들
        const hamburgerSpans = mainHeader.querySelectorAll('.hamburger-menu span'); // 햄버거 메뉴 span 요소들 (아이콘 색상 변경용)

        // 스크롤 이벤트 핸들러
        function handleScroll() {
            // 스크롤 위치가 50px를 초과하면 'scrolled' 클래스 추가, 아니면 제거
            if (window.scrollY > 50) {
                mainHeader.classList.add('scrolled');
                // 텍스트 색상 변경
                // 로고 이미지와 텍스트를 포함하는 a 태그의 색상 변경
                // 로고 이미지는 filter: invert() 또는 다른 방식으로 처리 가능 (현재 요청에서는 텍스트만)
                logoLink.style.color = 'var(--dark-navy-color)';
                navMenuLinks.forEach(link => {
                    link.style.color = 'var(--dark-navy-color)';
                });
                hamburgerSpans.forEach(span => {
                    span.style.backgroundColor = 'var(--dark-navy-color)';
                });
            } else {
                mainHeader.classList.remove('scrolled');
                // 텍스트 색상 원래대로 변경
                logoLink.style.color = ''; // CSS 기본값으로 돌아가도록 초기화
                navMenuLinks.forEach(link => {
                    link.style.color = ''; // CSS 기본값으로 돌아가도록 초기화
                });
                hamburgerSpans.forEach(span => {
                    span.style.backgroundColor = ''; // CSS 기본값으로 돌아가도록 초기화
                });
            }
        }

        // 페이지 로드 시 및 스크롤 시 이벤트 리스너 추가
        window.addEventListener('scroll', handleScroll);
        // 초기 로드 시에도 한 번 호출하여 현재 스크롤 위치에 따라 적용
        handleScroll();
        // --- End of Scroll-based Header Transparency and Color Change Logic ---


        // UNIT.html 스크립트 부분 시작
        // 실제 평택진위쌍용스마트어반 세대 데이터
        const unitData = [
            {
                type: '66A형',
                count: 184,
                ratio: '29.97%',
                exclusiveArea: 64.37,
                exclusiveAreaPyeong: 19.47,
                supplyArea: 83.69,
                supplyAreaPyeong: 25.31,
                rooms: '침실 3개',
                bathrooms: '화장실 2개',
                features: '안방 드레스룸, 현관 워크인 장, 페트리 공간구성, 4BAY 맞통풍 구조, 안방 1개, 방 2개, 화장실 2개, 주방 페트리 구성 혁신평면',
                structure: '4BAY 맞통풍 구조',
                imageUrl: 'https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/image/unit64A.webp' // 이미지 URL을 여기에 추가하세요
            },
            {
                type: '66B형',
                count: 92,
                ratio: '29.97%',
                exclusiveArea: 64.43,
                exclusiveAreaPyeong: 19.49,
                supplyArea: 84.50,
                supplyAreaPyeong: 25.56,
                rooms: '침실 3개',
                bathrooms: '화장실 2개',
                features: '안방 드레스룸, 현관 워크인 장, 페트리 공간구성, 2면 개방형 타워 구조, 침실 3개, 화장실 2개, 거실과 다이닝 공간 일체형 구조',
                structure: '2면 개방형 타워 구조',
                imageUrl: 'https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/image/unit64B.webp'
            },
            {
                type: '66C형',
                count: 92,
                ratio: '29.97%',
                exclusiveArea: 64.52,
                exclusiveAreaPyeong: 19.51,
                supplyArea: 84.88,
                supplyAreaPyeong: 25.67,
                rooms: '침실 3개',
                bathrooms: '화장실 2개',
                features: '안방 드레스룸, 현관 워크인 장, 페트리 공간구성, 2면 개방형 타워 구조, 침실 3개, 화장실 2개, 거실과 다이닝 공간 일체형 구조',
                structure: '2면 개방형 타워 구조',
                imageUrl: 'https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/image/unit64C.webp'
            },
            {
                type: '77A형',
                count: 36,
                ratio: '5.86%',
                exclusiveArea: 77.80,
                exclusiveAreaPyeong: 23.53,
                supplyArea: 100.19,
                supplyAreaPyeong: 30.31,
                rooms: '침실 3개',
                bathrooms: '화장실 2개',
                features: '안방 드레스룸, 현관 워크인 장, 페트리 공간구성, 4BAY 맞통풍 구조, 안방 1개, 방 2개, 화장실 2개, 주방 페트리 구성 혁신평면',
                structure: '4BAY 맞통풍 구조',
                imageUrl: 'https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/image/unit77A.webp'
            },
            {
                type: '77B형',
                count: 18,
                ratio: '5.86%',
                exclusiveArea: 77.62,
                exclusiveAreaPyeong: 23.48,
                supplyArea: 101.63,
                supplyAreaPyeong: 30.74,
                rooms: '침실 3개',
                bathrooms: '화장실 2개',
                features: '안방 드레스룸, 현관 워크인 장, 주방 페트리 공간구성, 4BAY 맞통풍 구조, 안방 1개, 방 2개, 화장실 2개, 주방 페트리 구성 혁신평면',
                structure: '4BAY 맞통풍 구조',
                imageUrl: 'https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/image/unit77B.webp'
            },
            {
                type: '77C형',
                count: 18,
                ratio: '5.86%',
                exclusiveArea: 77.94,
                exclusiveAreaPyeong: 23.58,
                supplyArea: 101.64,
                supplyAreaPyeong: 30.75,
                rooms: '침실 3개',
                bathrooms: '화장실 2개',
                features: '안방 드레스룸, ㄱ자 주방 및 아일랜드 식탁, 2면 개방형 타워 구조, 침실 3개, 화장실 2개, 거실과 다이닝 공간 일체형 구조',
                structure: '2면 개방형 타워 구조',
                imageUrl: 'https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/image/unit77C.webp'
            },
            {
                type: '84A형',
                count: 501,
                ratio: '64.17%',
                exclusiveArea: 84.88,
                exclusiveAreaPyeong: 25.68,
                supplyArea: 109.49,
                supplyAreaPyeong: 33.12,
                rooms: '침실 3개',
                bathrooms: '화장실 2개',
                features: '안방 드레스룸, 현관 대형 워크인 장, 주방 페트리 공간구성, 4BAY 맞통풍 구조, 안방 1개, 방 2개, 화장실 2개, 주방 페트리 구성 혁신평면',
                structure: '4BAY 맞통풍 구조',
                imageUrl: 'https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/image/unit84A.webp'
            },
            {
                type: '84B형',
                count: 112,
                ratio: '64.17%',
                exclusiveArea: 84.92,
                exclusiveAreaPyeong: 25.69,
                supplyArea: 111.11,
                supplyAreaPyeong: 33.61,
                rooms: '침실 3개',
                bathrooms: '화장실 2개',
                features: '안방 드레스룸, 현관 대형 워크인 장, 주방 페트리 공간구성, 4BAY 맞통풍 구조, 안방 1개, 방 2개, 화장실 2개, 주방 페트리 구성 혁신평면',
                structure: '4BAY 맞통풍 구조',
                imageUrl: 'https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/image/unit84B.webp'
            },
            {
                type: '84C형',
                count: 112,
                ratio: '64.17%',
                exclusiveArea: 84.93,
                exclusiveAreaPyeong: 25.69,
                supplyArea: 110.50,
                supplyAreaPyeong: 33.43,
                rooms: '침실 3개',
                bathrooms: '화장실 2개',
                features: '안방 및 작은방 드레스룸, 페트리 공간 2개 구성, 2면 개방형 타워 구조, 침실 3개, 화장실 2개, 거실과 다이닝 공간 일체형 구조',
                structure: '2면 개방형 타워 구조',
                imageUrl: 'https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/image/unit84C.webp'
            },
            {
                type: '84D형',
                count: 63,
                ratio: '64.17%',
                exclusiveArea: 84.92,
                exclusiveAreaPyeong: 25.69,
                supplyArea: 111.36,
                supplyAreaPyeong: 33.69,
                rooms: '세대구분형 1.5룸',
                bathrooms: '화장실 2개',
                features: '세대구분형, 세대 분리가 가능한 공간구성, 독특한 공간설계로 세대구분형 1.5룸 혁신평면',
                structure: '세대구분형 구조',
                imageUrl: 'https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/image/unit84D.webp'
            }
        ];

        // 유닛 카드 생성 함수
        function createUnitCards() {
            const unitsGrid = document.getElementById('unitsGrid');
            
            unitData.forEach((unit, index) => {
                const unitCard = document.createElement('div');
                unitCard.className = 'unit-card';
                unitCard.onclick = () => openModal(unit);
                
                // 이미지 영역 생성
                const imageContent = unit.imageUrl ? 
                    `<img src="${unit.imageUrl}" alt="${unit.type} 평면도" onerror="this.onerror=null; this.src='https://placehold.co/1066x677/cccccc/333333?text=No+Image';" />` :
                    `<div class="image-placeholder">🏠</div>
                     <div class="image-upload-hint">이미지 추가</div>`;
                
                unitCard.innerHTML = `
                    <div class="unit-image">
                        ${imageContent}
                    </div>
                    <div class="unit-content">
                        <div class="unit-type">
                            ${unit.type}
                            <span class="unit-count">${unit.count}세대</span>
                        </div>
                        <div class="unit-details">
                            <div class="detail-item">
                                <div class="detail-label">전용면적</div>
                                <div class="detail-value">${unit.exclusiveArea}㎡</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">평형</div>
                                <div class="detail-value">${unit.exclusiveAreaPyeong}평</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">공급면적</div>
                                <div class="detail-value">${unit.supplyArea}㎡</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">공급평형</div>
                                <div class="detail-value">${unit.supplyAreaPyeong}평</div>
                            </div>
                        </div>
                        <div class="unit-features">
                            <div class="features-title">주요 특징</div>
                            <div class="features-list">${unit.rooms}, ${unit.bathrooms}<br>${unit.structure}</div>
                        </div>
                    </div>
                `;
                
                unitsGrid.appendChild(unitCard);
            });
        }

        // 모달 열기 함수
        function openModal(unit) {
            const modal = document.getElementById('unitModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = `${unit.type} 상세 정보`;
            
            // 모달 이미지 영역 생성
            const modalImageContent = unit.imageUrl ? 
                `<img src="${unit.imageUrl}" alt="${unit.type} 평면도" onerror="this.onerror=null; this.src='https://placehold.co/1066x677/cccccc/333333?text=No+Image';" />` :
                `<div class="image-placeholder" style="font-size: 4rem; color: #667eea; opacity: 0.3;">🏠</div>`;
            
            modalBody.innerHTML = `
                <div class="modal-image">
                    ${modalImageContent}
                </div>
                <div class="modal-detail-grid">
                    <div class="modal-detail-item">
                        <div class="modal-detail-label">전용면적</div>
                        <div class="modal-detail-value">${unit.exclusiveArea}㎡</div>
                    </div>
                    <div class="modal-detail-item">
                        <div class="modal-detail-label">전용평형</div>
                        <div class="modal-detail-value">${unit.exclusiveAreaPyeong}평</div>
                    </div>
                    <div class="modal-detail-item">
                        <div class="modal-detail-label">공급면적</div>
                        <div class="modal-detail-value">${unit.supplyArea}㎡</div>
                    </div>
                    <div class="modal-detail-item">
                        <div class="modal-detail-label">공급평형</div>
                        <div class="modal-detail-value">${unit.supplyAreaPyeong}평</div>
                    </div>
                    <div class="modal-detail-item">
                        <div class="modal-detail-label">세대수</div>
                        <div class="modal-detail-value">${unit.count}세대</div>
                    </div>
                    <div class="modal-detail-item">
                        <div class="modal-detail-label">비율</div>
                        <div class="modal-detail-value">${unit.ratio}</div>
                    </div>
                </div>
                <div class="modal-features">
                    <h4>세대 특징 및 구조</h4>
                    <p><strong>방 구성:</strong> ${unit.rooms}, ${unit.bathrooms}</p>
                    <p><strong>구조 특징:</strong> ${unit.structure}</p>
                    <p><strong>상세 특징:</strong> ${unit.features}</p>
                </div>
            `;
            
            modal.style.display = 'block';
        }

        // 모달 닫기 함수
        function closeModal() {
            const modal = document.getElementById('unitModal');
            modal.style.display = 'none';
        }

        // 페이지 로드 시 초기화
        document.addEventListener('DOMContentLoaded', function() {
            createUnitCards();
            
            // 모달 닫기 이벤트 리스너
            const closeBtn = document.querySelector('.close');
            const modal = document.getElementById('unitModal');
            
            closeBtn.onclick = closeModal;
            
            window.onclick = function(event) {
                if (event.target === modal) {
                    closeModal();
                }
            }
        });
        // UNIT.html 스크립트 부분 끝


        // Ensure the canvas script runs after the DOM is fully loaded
        window.addEventListener('DOMContentLoaded', () => {
            const canvas = document.getElementById('sparkle-canvas');
            const ctx = canvas.getContext('2d');

            // Function to resize the canvas to match its parent's dimensions
            function resizeCanvas() {
                canvas.width = canvas.parentElement.clientWidth;
                canvas.height = canvas.parentElement.clientHeight;
            }
            resizeCanvas(); // Initial canvas size adjustment
            window.addEventListener('resize', resizeCanvas); // Adjust canvas size on window resize

            // Array to hold sparkle objects
            const sparkles = [];
            const SPARKLE_COUNT = 50;

            // Array to hold shooting star objects (will usually have 0 or 1 element)
            const shootingStars = [];
            // Adjusted time to next shooting star for more frequent appearance (0.5 to 2 seconds)
            let timeToNextShootingStar = Math.floor(Math.random() * (1.5 * 60)) + (0.5 * 60);

            // Factory function to create a new sparkle object
            function createSparkle() {
                // Generate a random hue for rainbow colors (0-360 degrees)
                const hue = Math.floor(Math.random() * 360);
                // Keep saturation and lightness high for vibrant colors
                const saturation = 70 + Math.random() * 30; // 70-100%
                // Increased lightness range for brighter sparkles
                const lightness = 70 + Math.random() * 30; // 70-100%
                const color = `hsl(${hue}, ${saturation}%, ${lightness}%)`;

                return {
                    x: Math.random(), // Normalized x position (0 to 1)
                    y: Math.random(), // Normalized y position (0 to 1)
                    size: 2 + Math.random() * 5, // Base sparkle size
                    alpha: 0.2 + Math.random() * 0.6, // Base opacity
                    color: color, // Random rainbow color
                    life: 300 + Math.random() * 500, // Sparkle lifespan in frames
                    age: 0 // Current sparkle age in frames
                };
            }

            // Factory function to create a new shooting star object
            function createShootingStar() {
                let startX, startY, angle;
                const edge = Math.floor(Math.random() * 3); // 0: Top, 1: Left, 2: Right

                if (edge === 0) { // Starts from the top edge
                    startX = Math.random() * canvas.width;
                    startY = -20; // Slightly off-screen at the top
                    angle = Math.PI / 2 + (Math.random() - 0.5) * (Math.PI / 3.5); // Downwards, with slight angle variation
                } else if (edge === 1) { // Starts from the left edge
                    startX = -20;
                    startY = Math.random() * canvas.height * 0.6; // Not too low
                    angle = (Math.random() * (Math.PI / 4)) + Math.PI / 8; // Down-right direction
                } else { // Starts from the right edge
                    startX = canvas.width + 20;
                    startY = Math.random() * canvas.height * 0.6;
                    angle = Math.PI - ((Math.random() * (Math.PI / 4)) + Math.PI / 8); // Down-left direction
                }

                // Speed reduced to half
                const speed = (1.25 + Math.random() * 1.75) / 2;
                return {
                    x: startX,
                    y: startY,
                    dx: Math.cos(angle) * speed,
                    dy: Math.sin(angle) * speed,
                    // Shooting star head size returned to original range (no * 2 multiplier)
                    size: (1.5 + Math.random() * 2),
                    // Tail length significantly increased for longer appearance
                    tailLength: 50 + Math.random() * 50,
                    color: `rgba(255, 255, ${Math.floor(210 + Math.random() * 46)}, 1)`, // Bright white or slightly yellowish color
                    opacity: 0.6 + Math.random() * 0.4, // Base opacity (used for fade effect)
                    life: 150 + Math.random() * 150, // Lifespan in frames
                    age: 0 // Current sparkle age in frames
                };
            }

            // Helper function to draw a star shape
            function drawStar(context, cx, cy, spikes, outerRadius, innerRadius) {
                let rot = Math.PI / 2 * 3;
                let x = cx;
                let y = cy;
                let step = Math.PI / spikes;

                context.beginPath();
                context.moveTo(cx, cy - outerRadius);
                for (let i = 0; i < spikes; i++) {
                    x = cx + Math.cos(rot) * outerRadius;
                    y = cy + Math.sin(rot) * outerRadius;
                    context.lineTo(x, y);
                    rot += step;

                    x = cx + Math.cos(rot) * innerRadius;
                    y = cy + Math.sin(rot) * innerRadius;
                    context.lineTo(x, y);
                    rot += step;
                }
                context.lineTo(cx, cy - outerRadius);
                context.closePath();
            }

            // Initialize sparkles
            for (let i = 0; i < SPARKLE_COUNT; i++) {
                sparkles.push(createSparkle());
            }
            // Shooting stars are not created initially; the first one will be generated
            // immediately in the first frame since timeToNextShootingStar is 0.

            // Function to draw all effects
            function drawEffects() {
                ctx.clearRect(0, 0, canvas.width, canvas.height); // Clear canvas every frame

                // Draw sparkles
                for (let s of sparkles) {
                    const t = s.age / s.life;
                    let sparkleAlpha = Math.sin(Math.PI * t);
                    sparkleAlpha = Math.max(sparkleAlpha, 0.01); // Ensure alpha doesn't go to zero
                    ctx.globalAlpha = s.alpha * sparkleAlpha;

                    const actualX = s.x * canvas.width;
                    const actualY = s.y * canvas.height;
                    // Increased base size and multiplier for more visible sparkles
                    const actualSize = s.size * (0.8 + sparkleAlpha * 0.9);

                    // Draw star shape instead of circle
                    drawStar(ctx, actualX, actualY, 5, actualSize, actualSize / 2); // 5 points, inner radius half of outer
                    
                    ctx.fillStyle = s.color;
                    ctx.shadowColor = s.color;
                    // Increased shadow blur for more prominent glow
                    ctx.shadowBlur = 10 + 20 * sparkleAlpha;
                    ctx.fill();
                    ctx.shadowBlur = 0; // Reset shadow blur

                    s.age++;
                    if (s.age > s.life) {
                        Object.assign(s, createSparkle()); // Recreate sparkle if its life is over
                    }
                }
                ctx.globalAlpha = 1; // Reset globalAlpha for other drawings

                // Draw and manage shooting stars (iterate backwards to avoid index issues when removing)
                for (let i = shootingStars.length - 1; i >= 0; i--) {
                    const ss = shootingStars[i];
                    ss.x += ss.dx;
                    ss.y += ss.dy;
                    ss.age++;

                    const lifeRatio = ss.age / ss.life;
                    let currentOpacity;
                    if (lifeRatio < 0.15) { // Fade in at the beginning
                        currentOpacity = (lifeRatio / 0.15) * ss.opacity;
                    } else if (lifeRatio > 0.75) { // Fade out at the end
                        currentOpacity = (1 - (lifeRatio - 0.75) / 0.25) * ss.opacity;
                    } else { // Full opacity in the middle
                        currentOpacity = ss.opacity;
                    }
                    currentOpacity = Math.max(0, Math.min(1, currentOpacity)); // Clamp opacity between 0 and 1

                    // Draw tail with gradient for tapering and fading effect
                    const gradient = ctx.createLinearGradient(
                        ss.x - ss.dx * ss.tailLength, ss.y - ss.dy * ss.tailLength, // Start of gradient (tail end)
                        ss.x, ss.y                                                  // End of gradient (shooting star head)
                    );
                    gradient.addColorStop(0, ss.color.replace(/[\d\.]+(?=\))/, '0')); // Tail end: fully transparent
                    gradient.addColorStop(0.7, ss.color.replace(/[\d\.]+(?=\))/, currentOpacity.toFixed(2))); // 70% of tail: full opacity
                    gradient.addColorStop(1, ss.color.replace(/[\d\.]+(?=\))/, currentOpacity.toFixed(2))); // Head: full opacity

                    ctx.strokeStyle = gradient;
                    ctx.lineWidth = ss.size * 0.3; // Tail line width made thinner for more tapered look
                    ctx.lineCap = 'round'; // Round cap makes the end slightly smoother but still pointy due to gradient
                    ctx.beginPath();
                    ctx.moveTo(ss.x - ss.dx * ss.tailLength, ss.y - ss.dy * ss.tailLength);
                    ctx.lineTo(ss.x, ss.y);
                    ctx.stroke();

                    // Draw head
                    const headOpacity = Math.min(1, currentOpacity * 1.2); // Slightly brighter head
                    const headColor = ss.color.replace(/[\d\.]+(?=\))/, headOpacity.toFixed(2));
                    ctx.fillStyle = headColor;
                    ctx.shadowColor = ss.color.replace(/[\d\.]+(?=\))/, (headOpacity * 0.7).toFixed(2));
                    ctx.shadowBlur = 8 + ss.size * 3;
                    ctx.beginPath();
                    ctx.arc(ss.x, ss.y, ss.size, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.shadowBlur = 0; // Reset shadow blur

                    // Check if shooting star is out of bounds
                    let outOfBounds = false;
                    const buffer = ss.tailLength * Math.max(Math.abs(ss.dx), Math.abs(ss.dy)) + 50; // Buffer zone for removal
                    if (ss.dx > 0 && ss.x > canvas.width + buffer) outOfBounds = true;
                    else if (ss.dx < 0 && ss.x < -buffer) outOfBounds = true;
                    if (ss.dy > 0 && ss.y > canvas.height + buffer) outOfBounds = true;

                    // Remove shooting star if its life is over or it's out of bounds
                    if (ss.age > ss.life || outOfBounds) {
                        shootingStars.splice(i, 1); // Remove shooting star
                        // Set new countdown for next shooting star (0.5 to 2 seconds)
                        timeToNextShootingStar = Math.floor(Math.random() * (1.5 * 60)) + (0.5 * 60);
                    }
                }

                // Create a new shooting star if none exist and timer is up
                if (shootingStars.length === 0) {
                    if (timeToNextShootingStar <= 0) {
                        shootingStars.push(createShootingStar());
                    } else {
                        timeToNextShootingStar--;
                    }
                }
                requestAnimationFrame(drawEffects); // Request next animation frame
            }

            drawEffects(); // Start the animation loop
        });
    </script>
    <footer style="background-color: #e0e0e0; padding: 20px; text-align: center; margin-top: 60px;">
        <img src="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/logo.webp?raw=true" alt="쌍용 스마트어반 로고" style="max-width: 180px; height: auto;">
    </footer>
</body>
</html>
