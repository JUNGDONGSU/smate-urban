<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>평택진위쌍용스마트어반</title>
  <link rel="icon" href="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/logo1.webp" type="image/webp">
  <!-- Inter 폰트 임포트 (기존 사용) -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <!-- Jua 폰트 임포트 (새로운 메인 타이틀에 사용) -->
  <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
  <style>
    /* Root variables */
    :root {
      --secondary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    /* Basic body styles */
    body {
      font-family: 'Inter', 'Noto Sans KR', sans-serif; /* Inter 폰트 추가 */
      margin: 0;
      padding: 60px 0 0 0; /* Header height as top padding */
      background-color: #f4f4f4; /* General body background */
      color: #333;
      line-height: 1.6;
      overflow-x: hidden;
    }
    /* Header styles */
    header {
      background-color: #004d40;
      color: #fff;
      height: 60px;
      padding: 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      opacity: 0.9;
    }
    .logo, .logo a { /* 로고 텍스트 및 링크 스타일 */
      color: #fff;
      text-decoration: none;
      font-size: 1.2em;
      font-weight: bold;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .logo img { /* 로고 이미지 스타일 */
      height: 28px;
      width: auto;
      vertical-align: middle;
    }
    /* Navigation menu styles */
    .nav-menu ul {
      list-style: none;
      display: flex;
      gap: 15px;
      margin: 0;
      padding: 0;
    }
    .nav-menu ul li a {
      color: #fff;
      text-decoration: none;
      padding: 8px 12px;
      border-radius: 4px;
      transition: background-color 0.3s ease;
    }
    .nav-menu ul li a:hover {
      background-color: rgba(255, 255, 255, 0.2);
    }
    /* Hamburger menu (only on mobile) */
    .hamburger-menu {
      display: none;
      background: rgba(255, 255, 255, 0.1);
      border: none;
      cursor: pointer;
      padding: 10px;
      z-index: 1005;
      margin-left: auto;
      border-radius: 4px;
      transition: background-color 0.3s ease;
    }
    .hamburger-menu:hover {
      background: rgba(255, 255, 255, 0.2);
    }
    .hamburger-menu span {
      display: block;
      width: 25px;
      height: 3px;
      background-color: #fff;
      margin: 5px 0;
      transition: all 0.3s ease-in-out;
    }
    /* Hamburger menu active state (changes to X shape) */
    .hamburger-menu.active span:nth-child(1) {
        transform: translateY(8px) rotate(45deg);
    }
    .hamburger-menu.active span:nth-child(2) {
        opacity: 0;
    }
    .hamburger-menu.active span:nth-child(3) {
        transform: translateY(-8px) rotate(-45deg);
    }

    /* Container for main content */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 20px;
    }
    /* Intro section styles */
    .intro {
      text-align: center;
      padding: 20px;
      margin-top: 30px;
    }
    .intro h2 {
      color: #004d40;
      margin-bottom: 15px;
    }
    .intro p {
      font-size: 1.1em;
      color: #555;
    }
    /* Form section styles */
    .form-section {
      width: 100%;
      max-width: 800px;
      margin: 0 auto 60px;
      background: #fff;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      box-sizing: border-box;
    }
    .form-section h3 {
      margin-bottom: 20px;
      color: #004d40;
      text-align: center;
    }

    /* 상담 예약 폰트 사이즈 2배로 키움 */
    #consultation-booking h3 {
      font-size: 2.2em; /* 기존 크기의 2배로 설정 */
      margin-bottom: 20px;
      color: #004d40;
      text-align: center;
    }


    /* --- Form Element Styles --- */
    .form-section div {
      margin-bottom: 15px;
    }

    .form-section label {
      display: block;
      margin-bottom: 8px;
      font-weight: bold;
      color: #444;
    }

    .form-section input[type="text"],
    .form-section select,
    .form-section textarea {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 1em;
      box-sizing: border-box;
      font-family: 'Noto Sans KR', sans-serif;
    }

    .form-section input[type="text"]::placeholder,
    .form-section textarea::placeholder {
      color: #bbb;
    }

    .form-section textarea {
      resize: vertical;
      min-height: 80px;
    }

    .form-section select {
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
      background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23004d40%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13.2-5.4H18.6c-5%200-9.3%201.8-13.2%205.4A17.6%2017.6%200%200%200%200%2082.2c0%204.7%201.8%208.9%205.4%2013.2l128%20128c3.9%203.9%208.7%205.8%2013.2%205.8s9.3-1.9%2013.2-5.8l128-128c3.6-3.6%205.4-7.8%205.4-12.8%200-5-1.8-9.2-5.4-12.8z%22%2F%3E%3C%2Fsvg%3E');
      background-repeat: no-repeat;
      background-position: right 12px center;
      background-size: 12px;
      padding-right: 30px;
    }

    .form-section input[type="checkbox"] {
      margin-right: 8px;
    }

    .required-text {
      color: #d32f2f;
      font-size: 0.9em;
      margin-left: 5px;
      font-weight: normal;
    }

    .privacy-text {
      font-size: 0.9em;
      color: #666;
      margin-top: 15px;
      background-color: #f9f9f9;
      border: 1px solid #eee;
      padding: 10px;
      border-radius: 5px;
    }

    .form-section button#submitBtn {
      display: block;
      width: 100%;
      padding: 15px;
      background-color: #00796b;
      color: white;
      border: none;
      border-radius: 4px;
      font-size: 1.1em;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.3s ease;
      margin-top: 25px;
    }

    .form-section button#submitBtn:hover:not(:disabled) {
      background-color: #004d40;
    }

    .form-section button#submitBtn.btn-disabled {
      background-color: #cccccc;
      cursor: not-allowed;
    }
    /* --- End of Form Element Styles --- */

    /* Video Popup Styles */
    #videoPopup {
        position: fixed;
        z-index: 9999;
        left: 0;
        top: 0;
        width: 100vw;
        height: 100vh;
        display: none;
        align-items: center;
        justify-content: center;
    }
    .popup-bg {
        position: absolute;
        left: 0;
        top: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0,0,0,0.5);
    }
    .popup-box {
        position: relative;
        background: #fff;
        padding: 0;
        border-radius: 18px;
        box-shadow: 0 6px 32px rgba(0,0,0,0.15);
        max-width: 96vw;
        width: 400px;
        max-height: 80vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }
    .close-btn {
        position: absolute;
        top: 6px;
        right: 10px;
        background: #004d40;
        color: #fff;
        border: none;
        border-radius: 50%;
        width: 32px;
        height: 32px;
        font-size: 1.2em;
        cursor: pointer;
    }
    @media (max-width:500px){
        .popup-box{ width: 97vw; min-width: 0; max-width: 98vw; }
    }

    /* Intro image section with canvas background */
    .intro-image-section {
      position: relative;
      width: 100vw;
      height: calc(100vh - 60px);
      min-height: 400px;
      overflow: hidden;
      display: flex; /* Flexbox 추가 */
      align-items: center; /* 세로 중앙 정렬 */
      justify-content: center; /* 가로 중앙 정렬 */
    }
    
    /* New container for centering logo and title */
    .intro-content-wrapper {
        text-align: center;
        z-index: 3;
        position: relative; /* 자식 요소의 위치 지정을 위한 상대 위치 */
        display: flex;
        flex-direction: column; /* 세로로 배치 */
        align-items: center; /* 가로 중앙 정렬 */
        justify-content: space-between; /* 상단/하단 분배 */
        width: 100%;
        height: 80%; /* 부모 높이에 맞춤 */
        padding: 5% 0; /* 상하 여백 추가 */
    }

    .intro-image-section .logo-image {
      position: absolute; /* 로고 이미지는 absolute로 유지하여 정확한 위치 지정 */
      top: calc(50% + 50px); /* 타이틀 아래로 이동 (50% + 타이틀 높이 절반) */
      left: 50%;
      transform: translateX(-50%); /* 가로 중앙 정렬 */
      width: auto;
      max-width: 30%; /* PC 기본값 */
      height: auto;
      z-index: 2; /* 텍스트 위에 오도록 */
      animation: fadeInEntrance 1.5s ease-out forwards, neonPulse 3s infinite alternate ease-in-out;
      filter: drop-shadow(0 0 10px rgba(0,255,255,0.8)); /* 'drop_shadow'를 'drop-shadow'로 수정 */
    }

    /* main-title (기존 .overlay-text h2 대체) */
    .main-title {
      text-align: center;
      font-family: 'Jua', 'Noto Sans KR', sans-serif;
      font-size: 3.3rem;
      font-weight: 900;
      line-height: 1.2;
      letter-spacing: 2px;
      word-break: keep-all;
      margin: 0;
      position: relative;
      z-index: 2; /* 로고와 동일 또는 그 위 */
      color: #ffe600; /* 텍스트 색상 추가 */
      text-shadow:
        -1px -1px 0 #1a57ff,
        1px 1px 0 #1a57ff,
        2px 2px 0 #1a57ff,
        0px 0px 8px #fff,
        0 4px 16px #aaa;
    }
    .char-wrap {
      position: relative;
      display: inline-block;
    }
    .main-title .char-back {
      color: #222A35;
      font-size: 1.1em;
      position: absolute;
      left: 50%; top: 50%;
      transform: translate(-48%, -48%);
      z-index: 1;
      opacity: 0.87;
      pointer-events: none;
      filter: blur(0.5px);
      user-select: none;
    }
    .main-title .char {
      opacity: 0;
      display: inline-block;
      transform: translateY(60px) scale(1.1); /* 더 위에서 등장 */
      transition:
        opacity 0.18s cubic-bezier(.43,2,.45,1),
        transform 0.48s cubic-bezier(.23,2,.15,.91);
      color: #ffe600;
      text-shadow:
        -1px -1px 0 #1a57ff,
        1px 1px 0 #1a57ff,
        2px 2px 0 #1a57ff,
        0px 0px 8px #fff,
        0 4px 16px #aaa;
      position: relative;
      z-index: 2;
    }
    .main-title .char.reveal {
      opacity: 1;
      transform: translateY(0) scale(1);
    }

    /* Sparkle and Shooting Star canvas styles */
    #sparkle-canvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
      display: block;
    }
    
    /* New styles for background blur */
    .bg-wrap {
        position: absolute; /* intro-image-section 기준 */
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        z-index: 0; /* 배경 이미지와 블러가 가장 뒤에 오도록 */
    }
    .main-bg {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
        position: absolute; /* bg-wrap 기준 */
        left: 0;
        top: 0;
    }
    .fog {
        position: absolute;
        left: 0;
        top: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(255,255,255,0.55); /* 살짝 뿌연 흰색 */
        backdrop-filter: blur(15px); /* 안개 블러 효과 */
        opacity: 1; /* 시작할 때 완전 뿌얗게 */
        transition:
            opacity 2.5s cubic-bezier(.45,2,.5,1),
            backdrop-filter 2.5s cubic-bezier(.45,2,.5,1);
        pointer-events: none;
        z-index: 2; /* 블러가 배경 이미지 위에 오도록 */
    }
    .fog.hide {
        opacity: 0; /* 완전 투명하게 */
        backdrop-filter: blur(0px); /* 블러 사라짐 */
    }

    /* Screen Reader Only */
    .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
    }

    /* Mobile Responsiveness */
    /* 기본적으로 PC 버전 타이틀을 보여주고 모바일 버전을 숨김 */
    .main-title.mobile-version {
      display: none;
    }
    
    @media (max-width: 768px) {
        .intro-image-section {
            height: calc(100vh - 60px);
        }
        /* Hamburger menu should always be visible on mobile */
        .hamburger-menu {
            display: block;
        }
        /* Hide nav menu on mobile by default */
        .nav-menu ul {
            display: none;
        }
        /* Show nav menu when active */
        .nav-menu.nav-open ul {
            display: flex;
            flex-direction: column;
            position: absolute;
            top: 60px;
            left: 0;
            right: 0;
            background-color: #004d40;
            padding: 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            z-index: 999;
        }
        .nav-menu.nav-open ul li {
            width: 100%;
            text-align: center;
        }
        .nav-menu.nav-open ul li a {
            display: block;
            padding: 15px 20px;
            border-bottom: 1px solid rgba(255,255,255,0.08);
        }
        .nav-menu.nav-open ul li:last-child a {
            border-bottom: none;
        }
        .nav-menu.nav-open ul li a:hover {
            background-color: rgba(255,255,255,0.1);
        }
        /* 모바일 화면에서 타이틀 폰트 사이즈 조정 */
        .main-title { 
            font-size: 1.8rem; /* 모바일에서 적절한 크기로 조정 */
            letter-spacing: 1px; /* 모바일에서 간격 조정 */
        }
        /* 쌍용 스마트어반 로고 모바일 사이즈 2배 키움 */
        .intro-image-section .logo-image {
            max-width: 60%; /* 모바일에서 기존 30%에서 2배 확대 */
            top: calc(50% + 80px); /* 모바일에서 로고 위치 조정 (타이틀이 커지므로 더 아래로) */
        }

        /* 모바일에서 PC 버전 타이틀 숨기고 모바일 버전 타이틀 보여주기 */
        .main-title.pc-version {
          display: none;
        }
        .main-title.mobile-version {
          display: block;
        }
    }

    /* Footer styles */
    footer {
      background-color: #e0e0e0;
      padding: 20px;
      text-align: left; /* Changed to left-align */
      margin-top: 60px;
      font-size: 0.9em; /* 폰트 크기 조정 */
      color: #666; /* 텍스트 색상 조정 */
      line-height: 1.5; /* 줄 간격 조정 */
    }

    footer p {
        margin: 5px 0; /* 단락 간격 조정 */
    }

    .footer-logo {
      max-width: 180px;
      height: auto;
      display: block; /* 블록 레벨 요소로 변경 */
      margin: 0 auto; /* 좌우 마진을 자동으로 설정하여 중앙 정렬 */
    }

    /* Header Logo Specific Styles */
    .logo-link {
      display: flex;
      align-items: center;
      gap: 8px;
      color: #fff;
      text-decoration: none;
      font-size: 1.2em;
      font-weight: bold;
    }

    .logo-image {
      height: 28px;
      width: auto;
      vertical-align: middle;
    }

    /* Keyframe animations */
    @keyframes fadeInEntrance {
      0% { opacity: 0; transform: translate(-50%, -60%) scale(0.5); }
      100% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
    }
    @keyframes neonPulse {
      0% { filter: drop-shadow(0 0 5px rgba(0,255,255,0.5)) drop-shadow(0 0 10px rgba(0,255,255,0.5)); }
      100% { filter: drop-shadow(0 0 20px rgba(0,255,255,1)) drop-shadow(0 0 30px rgba(0,255,255,1)); }
    }
    @keyframes lavenderPulse {
      0% {
        background-position: 0% 70%;
        filter: brightness(1.13) saturate(1.2);
      }
      50% {
        background-position: 100% 30%;
        filter: brightness(1.25) saturate(1.35);
      }
      100% {
        background-position: 0% 70%;
        filter: brightness(1.13) saturate(1.2);
      }
    }
    @keyframes bouncePop {
      0%   { transform: scale(1) translateY(0);}
      30%  { transform: scale(1.09) translateY(-7px);}
      70%  { transform: scale(0.97) translateY(2px);}
      100% { transform: scale(1) translateY(0);}
    }

    /* Hover effects for reserveIconBtn */
    /* 호버 효과는 icon-box에 적용되도록 */
    #reserveIconBtn:hover .icon-box {
      box-shadow:0 0 44px 18px #b388ff, 0 8px 40px #9575cd;
      outline:6px solid #fffde7;
      filter: brightness(1.15) saturate(1.4) drop-shadow(0 0 8px #7c4dff);
    }


    /* ======================================= */
    /* location.css Styles                     */
    /* ======================================= */
    #locationContentWrapper {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding-top: 40px;
    }

    .location-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 40px 20px;
        background: none;
        box-shadow: none;
        border-radius: 0;
        -webkit-backdrop-filter: none;
        backdrop-filter: none;
        animation: none;
    }

    .hero {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(20px);
        border-radius: 24px;
        padding: 60px 40px;
        text-align: center;
        margin-bottom: 40px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    }

    .hero h1 {
        font-size: 3.5rem;
        font-weight: 800;
        background: linear-gradient(135deg, #fff, #f8f9ff);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin-bottom: 20px;
        text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    }

    .hero .subtitle {
        font-size: 1.4rem;
        color: rgba(255, 255, 255, 0.9);
        font-weight: 300;
        margin-bottom: 30px;
    }

    .location-image {
        width: 100%;
        max-width: 800px;
        height: 400px;
        object-fit: cover;
        border-radius: 16px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        transition: transform 0.3s ease;
    }

    .location-image:hover {
        transform: scale(1.02);
    }

    .cards-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 24px;
        margin: 60px 0;
    }

    .card {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(20px);
        border-radius: 20px;
        padding: 32px;
        border: 1px solid rgba(255, 255, 255, 0.3);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
    }

    .card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, #667eea, #764ba2);
    }

    .card:hover {
        transform: translateY(-8px);
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
    }

    .card h3 {
        font-size: 1.5rem;
        font-weight: 700;
        color: #2d3748;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 12px;
    }

    .card h3::before {
        content: '';
        width: 6px;
        height: 6px;
        background: linear-gradient(135deg, #667eea, #764ba2);
        border-radius: 50%;
    }

    .card ul {
        list-style: none;
    }

    .card li {
        margin-bottom: 16px;
        padding: 12px 0;
        border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        transition: all 0.2s ease;
    }

    .card li:last-child {
        border-bottom: none;
    }

    .card li:hover {
        background: rgba(102, 126, 234, 0.05);
        border-radius: 8px;
        padding-left: 12px;
    }

    strong {
        color: #667eea;
        font-weight: 600;
    }

    .premium-section {
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(248, 249, 255, 0.1));
        backdrop-filter: blur(20px);
        border-radius: 24px;
        padding: 60px 40px;
        text-align: center;
        margin-top: 60px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    }

    .premium-section h2 {
        font-size: 3rem;
        font-weight: 800;
        background: linear-gradient(135deg, #fff, #f8f9ff);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin-bottom: 30px;
        text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    }

    .premium-section p {
        font-size: 1.3rem;
        color: rgba(255, 255, 255, 0.9);
        line-height: 1.8;
        max-width: 800px;
        margin: 0 auto;
    }

    .floating-elements {
        position: fixed;
        pointer-events: none;
        z-index: -1;
        width: 100vw;
        height: 100vh;
        top: 0;
        left: 0;
    }

    .floating-circle {
        position: absolute;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.1);
        animation: float 6s ease-in-out infinite;
    }

    .floating-circle:nth-child(1) {
        width: 80px;
        height: 80px;
        top: 20%;
        left: 10%;
        animation-delay: 0s;
    }

    .floating-circle:nth-child(2) {
        width: 120px;
        height: 120px;
        top: 60%;
        right: 15%;
        animation-delay: 2s;
    }

    .floating-circle:nth-child(3) {
        width: 60px;
        height: 60px;
        bottom: 20%;
        left: 20%;
        animation-delay: 4s;
    }

    @keyframes float {
        0%, 100% { transform: translateY(0px) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(180deg); }
    }

    .section-divider {
        height: 2px;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
        margin: 60px 0;
    }

    @media (max-width: 768px) {
        .location-container {
            padding: 20px 15px;
        }

        .hero {
            padding: 40px 20px;
        }

        .hero h1 {
            font-size: 2.5rem;
        }

        .hero .subtitle {
            font-size: 1.1rem;
        }

        .cards-grid {
            grid-template-columns: 1fr;
            gap: 20px;
        }

        .card {
            padding: 24px;
        }

        .premium-section {
            padding: 40px 20px;
        }

        .premium-section h2 {
            font-size: 2.2rem;
        }

        .premium-section p {
            font-size: 1.1rem;
        }
    }
    /* ======================================= */
    /* location.css Styles End                 */
    /* ======================================= */


    /* Location Map Image Section */
    .location-map-section {
        max-width: 1200px;
        margin: 40px auto;
        padding: 10px;
        border: 5px solid #FFD700;
        border-radius: 20px;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    .location-map-image {
        width: 100%;
        height: auto;
        display: block;
        border-radius: 12px;
        object-fit: cover;
    }


    /* ======================================= */
    /* complex.html Styles                     */
    /* ======================================= */

    /* Overall guide section container */
    #complex-guide {
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        color: #333;
        box-sizing: border-box;
        /* .location-map-section 스타일 적용 */
        max-width: 1200px;
        margin: 40px auto;
        padding: 10px;
        border: 5px solid #FFD700;
        border-radius: 20px;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    /* Page header for the complex guide */
    .complex-page-header {
        text-align: center;
        margin-bottom: 30px; /* Reduced margin */
    }
    .complex-page-header h1 {
        font-size: 2.5rem; /* Slightly reduced font size */
        background: linear-gradient(45deg, #667eea, #764ba2);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        font-weight: 700;
        margin-bottom: 10px; /* Reduced margin */
    }
    .complex-page-header .complex-subtitle {
        font-size: 1rem; /* Slightly reduced font size */
        color: #555;
    }

    /* Wrapper for all individual complex sections */
    .complex-sections-wrapper {
        max-width: 100%; /* Further reduced max width for content inside guide */
        margin: 0; /* 마진 폭 0으로 수정 */
        display: grid; /* Use grid for better separation */
        grid-template-columns: 1fr; /* Single column layout for individual sections */
        gap: 30px; /* Reduced space between each individual section */
    }

    /* Style for each individual complex section block */
    .individual-complex-section {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 20px;
        padding: 25px; /* Reduced padding */
        box-shadow: 0 15px 50px rgba(0, 0, 0, 0.08); /* Adjusted shadow */
        border: 1px solid rgba(220, 220, 220, 0.5); /* Subtle border */
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .individual-complex-section:hover {
        transform: translateY(-6px); /* Slightly less lift on hover */
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.12); /* Adjusted shadow on hover */
    }

    /* Numbered section titles within individual blocks */
    .section-title-numbered {
        color: #667eea;
        font-size: 1.8rem; /* Slightly reduced font size */
        margin-bottom: 15px; /* Reduced margin */
        padding-bottom: 8px; /* Reduced padding */
        border-bottom: 2px solid #e0e7ff; /* Consistent border */
        text-align: center; /* Center the section title */
    }

    /* Image container within each individual section (now a div for aspect ratio control) */
    .complex-section-image {
        width: 100%;
        max-width: 100%; /* 부모 너비에 맞춤 */
        height: 0; /* padding-bottom 트릭을 위해 높이를 0으로 설정 */
        padding-bottom: 41.6666%; /* 1200x500 비율 (500/1200 * 100%) */
        position: relative; /* 내부 이미지의 absolute positioning을 위한 기준 */
        display: block;
        margin: 0 auto 20px auto; /* Reduced margin */
        border-radius: 12px; /* Slightly smaller border radius */
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08); /* Adjusted shadow */
        background-color: white; /* 이미지가 꽉 차지 않는 경우 배경색 */
        overflow: hidden; /* 혹시 모를 이미지 오버플로우 방지 */
    }

    /* 실제 이미지 태그 (컨테이너 내부에 위치) */
    .complex-section-image img {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: contain; /* 이미지가 잘리지 않고 컨테이너 안에 들어가도록 */
    }


    /* Content block within each individual section (replaces former .complex-section content) */
    .complex-content-block {
        padding: 0; /* Remove old padding */
        background: none; /* Remove old background */
        border-left: none; /* Remove old border-left */
        border-radius: 0; /* Remove old border-radius */
        /* Add any common styling for content blocks if needed, e.g., margin-top */
        margin-top: 10px; /* Reduced margin */
    }

    /* Existing styles for content elements, adjusted to work within .complex-content-block */
    .complex-info-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); /* Adjusted minmax for slightly smaller size */
        gap: 12px; /* Reduced gap */
        margin-bottom: 0; /* Adjust margin if needed, as it's now inside .complex-content-block */
    }

    .complex-info-item {
        background: linear-gradient(135deg, #f8f9ff, #e8ebff);
        padding: 15px; /* Reduced padding */
        border-radius: 8px; /* Slightly smaller border radius */
        border: 1px solid #ddd;
    }

    .complex-info-item h3 {
        color: #667eea;
        font-size: 1em; /* Reduced font size */
        margin-bottom: 6px; /* Reduced margin */
    }

    .complex-info-item p {
        color: #555;
        line-height: 1.5; /* Slightly reduced line height */
        font-size: 0.95em; /* Slightly reduced font size */
    }

    .apartment-types {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* Adjusted minmax for slightly smaller size */
        gap: 12px; /* Reduced gap */
        margin-top: 15px; /* Reduced margin */
    }

    .apartment-card {
        background: linear-gradient(135deg, #fff, #f8f9ff);
        border: 2px solid #e0e7ff;
        border-radius: 12px; /* Slightly smaller border radius */
        padding: 15px; /* Reduced padding */
        text-align: center;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .apartment-card:hover {
        transform: translateY(-4px); /* Slightly less lift on hover */
        box-shadow: 0 10px 25px rgba(102, 126, 234, 0.15); /* Adjusted shadow on hover */
    }

    .apartment-card h4 {
        color: #667eea;
        font-size: 1.1em; /* Reduced font size */
        margin-bottom: 8px; /* Reduced margin */
    }

    .apartment-card .area {
        font-size: 0.9em; /* Reduced font size */
        font-weight: bold;
        color: #764ba2;
        margin-bottom: 5px;
    }

    .apartment-card .count {
        color: #888;
        font-size: 0.8em; /* Reduced font size */
    }

    .details-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 15px; /* Reduced margin */
        background: white;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .details-table th {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        padding: 10px 12px; /* Reduced padding */
        text-align: left;
        font-weight: 600;
        font-size: 0.9em; /* Reduced font size */
    }

    .details-table td {
        padding: 8px 12px; /* Reduced padding */
        border-bottom: 1px solid #eee;
        vertical-align: middle;
        font-size: 0.85em; /* Reduced font size */
    }

    .details-table tr:nth-child(even) {
        background: #f8f9ff;
    }

    .complex-highlight {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        padding: 2px 6px; /* Reduced padding */
        border-radius: 4px; /* Slightly smaller border radius */
        font-weight: bold;
        font-size: 0.9em; /* Reduced font size */
    }

    .feature-list {
        list-style: none;
        padding: 0;
        margin-top: 15px; /* Reduced margin */
    }

    /* Feature list items within the individual-complex-section (입지 정보 등) */
    .individual-complex-section .feature-list li {
        padding: 6px 0; /* Reduced padding */
        padding-left: 18px; /* Reduced indent */
        position: relative;
        border-bottom: 1px solid #f0f0f0;
        color: #555; /* Default text color */
        font-size: 0.9em; /* Further reduced font size */
    }
    .individual-complex-section .feature-list li:last-child {
        border-bottom: none;
    }
    .individual-complex-section .feature-list li:before {
        content: "•"; /* Use simple bullet for this list */
        position: absolute;
        left: 4px; /* Adjusted bullet position */
        color: #667eea; /* Color of the bullet */
        font-weight: bold;
        font-size: 1em; /* Reduced font size */
        line-height: 1; /* Align bullet vertically */
    }

    /* Styles for the image slider (both features and apartment types use this) */
    .features-slider {
        position: relative;
        width: 100%;
        max-width: 100%; /* 부모 너비에 맞춤 */
        height: 0; /* padding-bottom 트릭을 위해 높이를 0으로 설정 */
        padding-bottom: 41.6666%; /* 1200x500 비율 (500/1200 * 100%) */
        overflow: hidden;
        border-radius: 12px; /* Slightly smaller border radius */
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1); /* Adjusted shadow */
        margin: 0 auto 20px auto; /* Reduced margin */
        background-color: #f0f0f0; /* 이미지가 로드되기 전 배경 */
    }

    .features-slider .slider-image,
    .features-slider .apartment-slider-image { /* 두 슬라이더 모두에 적용 */
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: contain; /* 이미지가 잘리지 않고 컨테이너 안에 들어가도록 */
        opacity: 0; /* 기본적으로 투명하게 설정 */
        transition: opacity 1s ease-in-out; /* 부드러운 전환 효과 */
        background-color: #ffffff; /* 이미지가 빈 공간을 채울 때 흰색 배경 */
    }

    .features-slider .slider-image.active,
    .features-slider .apartment-slider-image.active { /* 활성 이미지만 보이도록 설정 */
        opacity: 1;
    }

    /* 슬라이더 탐색 버튼 스타일 */
    .slider-nav {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background-color: rgba(0, 0, 0, 0.5); /* 반투명 배경 */
        color: white;
        padding: 8px 12px; /* Reduced padding */
        border-radius: 4px; /* Slightly smaller border radius */
        cursor: pointer;
        font-size: 1.5rem; /* Reduced font size */
        font-weight: bold;
        user-select: none; /* 텍스트 선택 방지 */
        transition: background-color 0.3s ease, transform 0.3s ease;
        z-index: 10; /* 이미지 위에 오도록 */
    }

    .slider-nav:hover {
        background-color: rgba(0, 0, 0, 0.7);
        transform: translateY(-50%) scale(1.03); /* Slightly less scale on hover */
    }

    .slider-prev {
        left: 10px; /* Reduced position */
    }

    .slider-next {
        right: 10px; /* Reduced position */
    }

    /* 상담원 아이콘 버튼 스타일 (전체 버튼 영역) */
    #reserveIconBtn {
        position: fixed;
        bottom: 80px; /* 북서 방향으로 이동 (하단에서 위로) */
        right: 80px;  /* 북서 방향으로 이동 (오른쪽에서 왼쪽으로) */
        border: none;
        cursor: pointer;
        background: none; /* 배경은 .icon-box가 담당 */
        padding: 0; /* padding 제거 */
        width: 100px; /* 전체 버튼의 너비 (아이콘 박스+텍스트 고려) */
        height: auto; /* 내용에 맞춰 높이 자동 조절 */
        z-index: 9999;
        display: flex;
        flex-direction: column; /* 아이콘 박스와 텍스트를 세로로 배열 */
        align-items: center; /* 가로 중앙 정렬 */
        justify-content: center;
        text-align: center; /* 텍스트 중앙 정렬 */
        line-height: 1.2;
        transition: all 0.3s ease;
    }

    /* 아이콘을 감싸는 네모 박스 스타일 */
    #reserveIconBtn .icon-box {
        width: 84px; /* 아이콘 박스 크기 */
        height: 84px; /* 아이콘 박스 크기 */
        border-radius: 15px; /* 약간 둥근 사각형 */
        box-shadow:0 0 28px 8px #a084ff99, 0 4px 32px #9575cd88;
        background:linear-gradient(135deg,#b39ddb,#7c4dff,#ede7f6,#9575cd 90%);
        background-size:300% 300%;
        animation:lavenderPulse 2.2s ease-in-out infinite, bouncePop 1.5s infinite alternate;
        outline:4px solid #fff;
        transition:box-shadow .18s, outline .22s;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden; /* 이미지가 박스 밖으로 나가지 않도록 */
    }

    #reserveIconBtn .icon-box svg { /* SVG 아이콘 스타일 */
        width: 90%; /* 이미지 크기 조절 */
        height: 90%; /* 이미지 크기 조절 */
        display: block; /* 블록 요소로 변경하여 중앙 정렬 용이 */
        margin: auto; /* SVG 자체를 중앙 정렬 */
    }

    /* "방문상담 예약하기" 텍스트 스타일 */
    #reserveIconBtn .reserve-text {
        font-size: 1.5em; /* 텍스트 크기 */
        font-weight: 600;
        color: #333; /* 텍스트 색상을 배경과 어울리게 변경 */
        margin-top: 8px; /* 박스와 텍스트 사이 간격 */
        line-height: 1.3;
    }


    @media (max-width: 768px) {
        #complex-guide {
            padding: 20px 10px; /* 모바일에서 패딩 더 줄임 */
        }
        .complex-page-header {
            margin-bottom: 30px; /* 모바일에서 마진 줄임 */
        }
        .complex-page-header h1 {
            font-size: 2.2rem;
        }
        .individual-complex-section {
            padding: 20px; /* 모바일에서 패딩 더 줄임 */
            /* Removed gap from here, as it's defined in .complex-sections-wrapper */
        }
        .section-title-numbered {
            font-size: 1.7rem;
            margin-bottom: 15px;
        }
        .complex-info-grid,
        .apartment-types {
            grid-template-columns: 1fr;
            gap: 10px; /* 모바일에서 간격 더 줄임 */
        }
        .complex-info-item {
            padding: 15px; /* 모바일에서 패딩 더 줄임 */
        }
        .complex-info-item h3 {
            font-size: 1em;
        }
        .details-table {
            font-size: 0.85rem;
        }
        .details-table th,
        .details-table td {
            padding: 8px;
        }
        /* 모바일에서는 슬라이더와 이미지 컨테이너의 padding-bottom을 유지하여 비율을 유동적으로 조정 */
        /* height 속성 제거 */
        .features-slider,
        .complex-section-image {
            padding-bottom: 56.25%; /* 16:9 비율 (9/16 * 100%) - 모바일에서 더 일반적으로 사용되는 이미지 비율 */
            height: 0; /* height를 0으로 유지 */
            margin-bottom: 20px; /* 모바일에서 마진 줄임 */
        }
        .slider-nav {
            padding: 8px 12px;
            font-size: 1.5rem;
        }

        /* 모바일에서 상담원 아이콘 위치 조정 */
        #reserveIconBtn {
            bottom: 15px;
            right: 15px;
            width: 70px; /* 모바일에서 버튼 너비 조정 */
            height: auto; /* 내용에 맞춰 높이 자동 조절 */
        }
        #reserveIconBtn .icon-box {
            width: 55px; /* 모바일에서 아이콘 박스 크기 조정 */
            height: 55px; /* 모바일에서 아이콘 박스 크기 조정 */
            border-radius: 12px;
        }
        #reserveIconBtn .reserve-text {
            font-size: 0.9em; /* 모바일에서 텍스트 크기 조정 */
            margin-top: 4px; /* 모바일에서 간격 조정 */
        }
    }
  </style>
</head>
<body oncontextmenu="return false;">
  <header>
    <div class="logo">
      <a href="index.html">
        <img src="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/logo1.webp?raw=true" alt="쌍용 로고">
        쌍용 스마트어반
      </a>
    </div>
    <button class="hamburger-menu" aria-label="메뉴 열기" aria-expanded="false" aria-controls="navigation-menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <nav class="nav-menu">
      <ul id="navigation-menu">
        <!-- 상담 전화번호만 표시하고, 다른 메뉴 항목들은 제거했습니다. -->
        <li><a href="tel:1688-5925" style="font-size: 1.5em;">1688-5925</a></li>
      </ul>
    </nav>
  </header>

  <!-- Video Popup HTML (from business.html) -->
  <div id="videoPopup" style="display: none;">
      <div class="popup-bg"></div>
      <div class="popup-box">
          <video id="popupVideo" src="https://github.com/JUNGDONGSU/smate-urban/raw/main/smartUrban.mp4" controls autoplay playsinline muted style="width:100%;border-radius:16px;"></video>
          <button class="close-btn" onclick="closeVideoPopup()">✖</button>
      </div>
  </div>

  <!-- ★★ HERO/메인 배경 이미지 ★★ -->
  <section class="intro-image-section">
    <canvas id="sparkle-canvas"></canvas>
    
    <!-- New wrapper for background image and fog effect -->
    <div class="bg-wrap">
      <img src="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/birdseyeview-optimized.webp?raw=true" alt="쌍용 스마트어반 배경" class="main-bg">
      <div id="fog" class="fog"></div>
    </div>
    
    <!-- New container to center the logo and animated title -->
    <div class="intro-content-wrapper">
      <!-- PC 버전 타이틀 -->
      <h1 class="main-title pc-version" id="animatedTitlePC"></h1>
      <!-- 모바일 버전 타이틀 -->
      <h1 class="main-title mobile-version" id="animatedTitleMobile"></h1>
      <img src="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/Smart_URBAN_logo.webp?raw=true" alt="쌍용 스마트어반 로고" class="logo-image"/>
    </div>
  </section>

  <section class="intro">
    <h2>프리미엄 라이프의 시작</h2>
    <p>
      경기도 평택시 진위면에 위치한 쌍용 스마트어반은 교통, 교육, 생활 인프라를 두루 갖춘 프리미엄 주거단지입니다.<br>
      총 1,228세대, 4Bay 구조와 혁신적인 평면 설계, 풍부한 커뮤니티 시설까지.<br>
      당신의 삶을 더욱 가치 있게 만들어줄 새로운 시작을 지금 만나보세요.
    </p>
  </section>

  <!-- ======================================= -->
  <!--        complex.html 단지 안내 섹션 시작    -->
  <!-- ======================================= -->
  <section id="complex-guide">
    <div class="complex-page-header">
        <h1>평택 진위 쌍용 스마트어반</h1>
        <p class="complex-subtitle">단지 상세 정보를 확인해보세요.</p>
    </div>

    <div class="complex-sections-wrapper">
        <div class="individual-complex-section">
            <h2 class="section-title-numbered">1. 사 업 개 요</h2>
            <!-- 이미지 컨테이너로 변경 -->
            <div class="complex-section-image">
                <img src="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/Project%20Overview.webp" alt="사업 개요 이미지">
            </div>
            <div class="complex-content-block">
                <div class="complex-info-grid">
                    <div class="complex-info-item">
                        <h3>사업위치</h3>
                        <p>경기도 평택시 진위면 가곡리 235-14번지 일원</p>
                    </div>
                    <div class="complex-info-item">
                        <h3>용도지구</h3>
                        <p>일반주거지역</p>
                    </div>
                    <div class="complex-info-item">
                        <h3>대지면적</h3>
                        <p><span class="complex-highlight">67,404.00㎡</span> (20,389.62평)</p>
                    </div>
                    <div class="complex-info-item">
                        <h3>건축면적</h3>
                        <p><span class="complex-highlight">15,155.81㎡</span> (4,584.61평)</p>
                    </div>
                    <div class="complex-info-item">
                        <h3>연면적</h3>
                        <p><span class="complex-highlight">187,433.21㎡</span> (56,698.29평)</p>
                    </div>
                    <div class="complex-info-item">
                        <h3>건폐율/용적률</h3>
                        <p>건폐율: 22.48% (법정 60%)<br>용적률: 187.63% (법정 200%)</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="individual-complex-section">
            <h2 class="section-title-numbered">2. 단 지 안 내</h2>
            <!-- 이미지 컨테이너로 변경 -->
            <div class="complex-section-image">
                <img src="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/image/gagok2_map.webp" alt="건축 규모 이미지">
            </div>
            <div class="complex-content-block">
                <div class="complex-info-grid">
                    <div class="complex-info-item">
                        <h3>구조</h3>
                        <p>지하 2층, 지상 29층</p>
                    </div>
                    <div class="complex-info-item">
                        <h3>동수</h3>
                        <p>아파트 <span class="complex-highlight">14개동</span></p>
                    </div>
                    <div class="complex-info-item">
                        <h3>총 세대수</h3>
                        <p><span class="complex-highlight">1,228세대</span></p>
                    </div>
                    <div class="complex-info-item">
                        <h3>주차시설</h3>
                        <p>총 1,601대 (지하주차 100%)<br>법정 주차율 130%)</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="individual-complex-section">
            <h2 class="section-title-numbered">3. 유 니 트 (UNIT)</h2>
            <div class="complex-content-block">
                <!-- 주택형별 이미지 슬라이더 컨테이너 -->
                <div id="apartment-type-slider" class="features-slider">
                    <img src="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/image/unit64A.webp" alt="64A형 이미지" class="apartment-slider-image active">
                    <img src="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/image/unit64B.webp" alt="64B형 이미지" class="apartment-slider-image">
                    <img src="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/image/unit64C.webp" alt="64C형 이미지" class="apartment-slider-image">
                    <img src="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/image/unit77A.webp" alt="77A형 이미지" class="apartment-slider-image">
                    <img src="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/image/unit77B.webp" alt="77B형 이미지" class="apartment-slider-image">
                    <img src="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/image/unit77C.webp" alt="77C형 이미지" class="apartment-slider-image">
                    <img src="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/image/unit84A.webp" alt="84A형 이미지" class="apartment-slider-image">
                    <img src="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/image/unit84B.webp" alt="84B형 이미지" class="apartment-slider-image">
                    <img src="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/image/unit84C.webp" alt="84C형 이미지" class="apartment-slider-image">
                    <img src="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/image/unit84D.webp" alt="84D형 이미지" class="apartment-slider-image">
                    <!-- 이전/다음 버튼 추가 -->
                    <div class="slider-nav slider-prev" id="apartment-prev-btn">&lt;</div>
                    <div class="slider-nav slider-next" id="apartment-next-btn">&gt;</div>
                </div>
                <div class="apartment-types">
                    <div class="apartment-card">
                        <h4>64㎡형 (A,B,C타입)</h4>
                        <div class="area">19.47~19.51평</div>
                        <div class="count">총 368세대 (29.97%)</div>
                    </div>
                    <div class="apartment-card">
                        <h4>77㎡형 (A,B,C타입)</h4>
                        <div class="area">23.48~23.58평</div>
                        <div class="count">총 72세대 (5.86%)</div>
                    </div>
                    <div class="apartment-card">
                        <h4>84㎡형 (A,B,C,D타입)</h4>
                        <div class="area">25.68~25.69평</div>
                        <div class="count">총 788세대 (64.17%)</div>
                    </div>
                </div>
            </div>
        </div>
        
        
        <div class="individual-complex-section">
            <h2 class="section-title-numbered">4. P R E M I U M</h2><!-- 번호 수정 -->
            <div class="complex-content-block">
                <!-- 이미지 슬라이더 컨테이너 -->
                <div id="features-slider" class="features-slider">
                    <img src="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/Features-1.webp" alt="단지 특징 1" class="slider-image active">
                    <img src="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/Features-2.webp" alt="단지 특징 2" class="slider-image">
                    <img src="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/Features-3.webp" alt="단지 특징 3" class="slider-image">
                    <img src="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/Features-4.webp" alt="단지 특징 4" class="slider-image">
                    <img src="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/Features-5.webp" alt="단지 특징 5" class="slider-image">
                    <!-- 이전/다음 버튼 추가 -->
                    <div class="slider-nav slider-prev">&lt;</div>
                    <div class="slider-nav slider-next">&gt;</div>
                </div>
                <ul class="feature-list">
                    <li>전세형 민간임대 아파트</li>
                    <li>청약 없는 회원제 방식</li>
                    <li>4BAY 맞통풍 구조의 혁신평면</li>
                    <li>안방 드레스룸 및 현관 워크인 장 구성</li>
                    <li>주방 페트리(팬트리) 공간 구성</li>
                    <li>지하 100% 주차시설 (법정 주차율 130%)</li>
                    <li>2면 개방형 타워 구조</li>
                    <li>세대구분형 1.5룸 혁신평면 (84D형)</li>
                </ul>
            </div>
        </div>
        
        <div class="individual-complex-section">
            <h2 class="section-title-numbered">5. 입 지 정 보</h2><!-- 번호 수정 -->
            <div class="complex-section-image">
                <img src="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/%EA%B0%80%EA%B3%A12%EC%A7%80%EA%B5%AC%20%EC%9C%84%EC%B9%98.webp" alt="입지 정보 이미지">
            </div>
            <div class="complex-content-block">
                <div class="location-info-box">
                    <h3>교통 환경</h3>
                    <ul class="feature-list">
                        <li>진위역 (도보 가능): 1호선 진위역이 인접하여 수도권 이동 편리</li>
                        <li>평택제천고속도로, 경부고속도로: 단지 인근 IC를 통해 주요 도시로 빠르게 이동</li>
                        <li>31번 국도, 1번 국도: 평택 시내 및 오산, 동탄 등 인근 지역으로의 접근성 우수</li>
                    </ul>
                </div>

                <div class="location-info-box">
                    <h3>생활 인프라</h3>
                    <ul class="feature-list">
                        <li>쇼핑 및 편의시설: 하나로마트, 홈플러스 등 대형마트 인접, 다양한 상업시설 이용 편리</li>
                        <li>의료기관: 평택성모병원, 굿모닝병원 등 종합병원 및 다수의 병의원 이용 편리</li>
                        <li>공원 및 여가시설: 진위천 시민유원지, 무봉산 등 자연과 함께하는 여가 생활 가능</li>
                    </ul>
                </div>

                <div class="location-info-box">
                    <h3>교육 환경</h3>
                    <ul class="feature-list">
                        <li>진위초, 진위중, 진위고: 단지 인근에 위치하여 안심 도보 통학 가능</li>
                        <li>학원가: 주변 학원가를 통해 자녀 교육 환경 우수</li>
                        <li>교육 특구: 평택 교육지원청 인근으로 우수한 교육 인프라 조성</li>
                    </ul>
                </div>

                <div class="location-info-box">
                    <h3>미래 가치</h3>
                    <ul class="feature-list">
                        <li>진위2일반산업단지, LG디지털파크: 대규모 산업단지 인접으로 풍부한 배후 수요</li>
                        <li>평택 브레인시티 (예정): 향후 개발 호재로 인한 높은 미래 가치 기대</li>
                        <li>GTX-C 연장 계획: 수도권 광역교통망 확충으로 더욱 편리한 접근성</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
  </section>
  <!-- ======================================= -->
  <!--        complex.html 단지 안내 섹션 끝      -->
  <!-- ======================================= -->
  

  <!-- 기존 위치 지도 이미지 섹션 유지 -->
  <section class="location-map-section">
      <img src="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/wide-location-1.webp" alt="가곡2지구 위치 지도" class="location-map-image">
  </section>
  <div class="container">    
    <section class="form-section" id="consultation-booking" style="display: none;">      
      <h3 class="highlight-title">상담 예약</h3>      
      <form id="inquiryForm">        
        <div>            
            <label for="userName">성함<span class="required-text">(필수 입력)</span></label>            
            <input type="text" id="userName" placeholder="성함을 입력하세요">        
        </div>        
        <div>            
            <label for="userPhone">연락처<span class="required-text">(필수 입력)</span></label>            
            <input type="text" id="userPhone" placeholder="연락처를 입력하세요 (예: 010-1234-5678)" maxlength="13">        
        </div>        
        <div>            
            <label for="userAddress">주소<span class="required-text">(필수 입력)</span></label>            
            <input type="text" id="userAddress" placeholder="주소를 입력하세요">        
        </div>        
        <div>            
            <label for="inquiryType">문의유형</label>            
            <select id="inquiryType">              
              <option value="">문의유형 선택</option>              
              <option value="상담예약">상담예약</option>              
              <option value="방문예약">방문예약</option>            
              <option value="기타">기타</option>            
            </select>        
        </div>        
        <div>            
            <label for="otherInquiry">기타 문의 내용</label>            
            <textarea id="otherInquiry" placeholder="기타 문의사항이 있다면 입력해주세요" rows="4"></textarea>        
        </div>        
        <div>            
            <label for="agreeCheckbox">                
                <input type="checkbox" id="agreeCheckbox"> 개인정보 수집 및 이용에 동의합니다.            
            </label>        
        </div>        
        <div class="privacy-text">          
          ※ 수집된 개인정보는 분양상담 및 향후 관련 정보 안내 목적으로만 활용되며,<br>          
          이용자의 요청 시 언제든지 삭제 요청이 가능합니다.        
        </div>        
        <button type="submit" id="submitBtn">상담 예약 등록</button>      
      </form>    
    </section>  
  </div>

  <footer style="background-color: #e0e0e0; padding: 20px; text-align: left; margin-top: 60px;">
    <img src="https://raw.githubusercontent.com/JUNGDONGSU/smate-urban/refs/heads/main/logo.webp?raw=true" alt="쌍용 스마트어반 로고" class="footer-logo">
    <p>
      ※ 본 홈페이지에 사용된 CG 및 이미지는 소비자의 이해를 돕기 위해 제작된 이미지 컷으로 실제와 다를 수 있습니다.<br>
      ※ 본 홍보물에 사용된 투시도, 조감도 등의 CG는 소비자의 이해를 돕기 위해 임의 제작된 것으로 실제와 다소 차이가 있을 수 있으며, 추후 인·허가, 협의 등에 따라 색채 및 형태 등이 변경될 수 있습니다.<br>
      ※ 본 제작물은 편집 및 인쇄 과정상 오류가 있을 수 있으니 자세한 내용은 홍보관을 통해 확인하시기 바랍니다.
    </p>
    <p>
      시행 : 가곡2지구 민간임대주택 창립준비위원회ㅣ사업자번호 : 226-82-80897ㅣ대표자 : 정기성ㅣ시공예정 : 쌍용건설ㅣ신탁 : 무궁화신탁<br>
      현장 : 경기도 평택시 진위면 가곡리 235-14번지 일원ㅣ대표전화 : 1688-5295
    </p>
    <p>
      Copyright © 2025 평택 진위 쌍용 스마트어반 All Rights Reserved.
    </p>
  </footer>

  <!-- 아이콘 (상담원 헤드셋 SVG 아이콘: 우측 하단, 네온+튀는 애니메이션) -->
  <button id="reserveIconBtn">
    <!-- 이미지 아이콘을 감싸는 네모 박스 -->
    <div class="icon-box">
      <svg xmlns="http://www.w3.org/2000/svg" width="68" height="68" viewBox="0 0 48 48" fill="none" style="display:block;margin:auto;">
        <circle cx="24" cy="24" r="15" fill="#fff7ff"/>
        <path d="M12 28v-4c0-6.627 5.373-12 12-12s12 5.373 12 12v4" stroke="#7c4dff" stroke-width="2.6"/>
        <rect x="16" y="28" width="16" height="7" rx="3.5" fill="#7c4dff"/>
        <circle cx="24" cy="31.5" r="2.5" fill="#fff"/>
        <rect x="32" y="32" width="3" height="7" rx="1.5" fill="#b39ddb"/>
        <rect x="13" y="32" width="3" height="7" rx="1.5" fill="#b39ddb"/>
        <rect x="20" y="36" width="8" height="2" rx="1" fill="#d7dbfa"/>
      </svg>
    </div>
    <!-- 텍스트는 박스 밖에 배치 -->
    <span class="reserve-text">방문상담<br>예약하기</span>
  </button>

  <script>
    // JavaScript for the website

    // Custom message box function (replaces alert)
    function displayMessage(message) {
      const messageBox = document.createElement('div');
      messageBox.style.cssText = `
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 20px;
        border-radius: 8px;
        z-index: 2000;
        text-align: center;
        font-size: 1.1em;
        box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
        max-width: 80%;
      `;
      messageBox.textContent = message;
      document.body.appendChild(messageBox);

      setTimeout(() => {
        messageBox.remove();
      }, 3000); // Message disappears after 3 seconds
      console.log(`Displaying message: ${message}`); // Debugging
    }

    // Video Popup functions
    function openVideoPopup() {
        document.getElementById("videoPopup").style.display = "flex";
        const video = document.getElementById("popupVideo");
        video.play().catch(error => {
            console.log("비디오 자동 재생 실패 (사용자 상호작용 필요):", error);
        });
    }

    function closeVideoPopup() {
        document.getElementById("videoPopup").style.display = "none";
        document.getElementById("popupVideo").pause();
        document.getElementById("popupVideo").currentTime = 0;
    }


    // Execute when DOM content is fully loaded
    window.addEventListener('DOMContentLoaded', () => {
      console.log("DOMContentLoaded fired."); // Debugging

      // --- Mobile Navigation (Hamburger Menu) Logic ---
      const hamburgerButton = document.querySelector('.hamburger-menu');
      const navigationMenu = document.querySelector('.nav-menu');
      const navLinks = document.querySelectorAll('.nav-menu ul li a');

      if (hamburgerButton && navigationMenu) {
        console.log("Hamburger menu and navigation menu found."); // Debugging
        hamburgerButton.addEventListener('click', () => {
          navigationMenu.classList.toggle('nav-open'); // Toggle class on <nav> element
          hamburgerButton.classList.toggle('active'); // Toggle class on hamburger button itself (for X shape)

          // Update ARIA attributes for accessibility
          const isExpanded = navigationMenu.classList.contains('nav-open');
          hamburgerButton.setAttribute('aria-expanded', isExpanded);
          if (isExpanded) {
            hamburgerButton.setAttribute('aria-label', '메뉴 닫기');
          } else {
            hamburgerButton.setAttribute('aria-label', '메뉴 열기');
          }
          console.log(`Hamburger menu toggled. Nav open: ${isExpanded}`); // Debugging
        });

        // Close menu when a link is clicked in mobile navigation
        navLinks.forEach(link => {
          link.addEventListener('click', () => {
            if (navigationMenu.classList.contains('nav-open')) {
              navigationMenu.classList.remove('nav-open');
              hamburgerButton.classList.remove('active');
              hamburgerButton.setAttribute('aria-expanded', 'false');
              hamburgerButton.setAttribute('aria-label', '메뉴 열기');
              console.log("Nav link clicked, closing mobile menu."); // Debugging
            }
          });
        });
      } else {
        console.log("Hamburger menu or navigation menu not found. Skipping mobile navigation logic."); // Debugging
      }
      // --- End of Mobile Navigation Logic ---

      // Auto-hyphen insertion for phone number input (main form)
      const userPhoneInput = document.getElementById('userPhone');

      if (userPhoneInput) {
        console.log("Phone input found. Adding auto-hyphen listener."); // Debugging
        userPhoneInput.addEventListener('input', function(event) {
          let phoneNumber = event.target.value.replace(/[^0-9]/g, ''); // Remove non-numeric characters
          let formattedNumber = '';

          // Format Korean phone numbers with hyphens
          if (phoneNumber.length < 4) {
            formattedNumber = phoneNumber;
          } else if (phoneNumber.length < 7) { // e.g., 010-123
            formattedNumber = phoneNumber.substring(0, 3) + '-' + phoneNumber.substring(3);
          } else if (phoneNumber.length < 11) { // e.g., 010-1234-5678
            formattedNumber = phoneNumber.substring(0, 3) + '-' + phoneNumber.substring(3, 7) + '-' + phoneNumber.substring(7);
          } else { // e.g., 010-1234-5678 (max length)
            formattedNumber = phoneNumber.substring(0, 3) + '-' + phoneNumber.substring(3, 7) + '-' + phoneNumber.substring(7, 11);
          }
          event.target.value = formattedNumber;
        });
      } else {
        console.log("Phone input not found. Skipping auto-hyphen logic."); // Debugging
      }

      // Function to update button state (linked to privacy agreement checkbox)
      function updateButtonState() {
        const agreeCheckbox = document.getElementById('agreeCheckbox');
        const submitBtn = document.getElementById('submitBtn');

        if (agreeCheckbox && submitBtn) { // Check if elements exist
          if (agreeCheckbox.checked) {
            submitBtn.classList.remove('btn-disabled');
            submitBtn.disabled = false;
          } else {
            submitBtn.classList.add('btn-disabled');
            submitBtn.disabled = true;
          }
        }
      }

      // Form submission event listener (Google Spreadsheet integration)
      const inquiryForm = document.getElementById('inquiryForm');
      const agreeCheckbox = document.getElementById('agreeCheckbox');
      const submitBtn = document.getElementById('submitBtn');

      // Apps Script URL
      const APPS_SCRIPT_WEB_APP_URL = 'https://script.google.com/macros/s/AKfycbx1OemkhMdjo7sXjOTt4xTRt8F6xuO4WgS-TfmsvBFbRu0_Bc7qCw7lvqQSIYeUEdfL/exec'; // Updated URL

      console.log('Apps Script Web App URL:', APPS_SCRIPT_WEB_APP_URL); // Verify URL is loaded correctly

      if (inquiryForm && agreeCheckbox && submitBtn) {
        console.log("All inquiry form elements found. Initializing form submission logic."); // Debugging
        updateButtonState(); // Set initial button state on page load
        agreeCheckbox.addEventListener('change', updateButtonState); // Update button state on checkbox change

        inquiryForm.addEventListener('submit', async function (event) {
          event.preventDefault();
          console.log("Form submission initiated."); // Debugging

          const name = document.getElementById('userName').value.trim();
          const phone = document.getElementById('userPhone').value.trim();
          const address = document.getElementById('userAddress').value.trim();
          const inquiry = document.getElementById('inquiryType').value;
          const otherText = document.getElementById('otherInquiry').value.trim();

          // Required fields and validation
          if (!name || !phone || !address) {
            displayMessage('성함, 연락처, 주소는 반드시 입력해야 합니다.');
            return;
          }

          const phoneRegex = /^\d{2,3}-\d{3,4}-\d{4}$/;
          if (!phoneRegex.test(phone)) {
            displayMessage('올바른 연락처 형식을 입력해주세요. (예: 010-1234-5678)');
            return;
          }

          if (inquiry === '') {
            displayMessage('문의 유형을 선택해주세요.');
            return;
          }
          if (inquiry === '기타' && !otherText) {
            displayMessage('기타 문의 내용을 입력해주세요.');
            return;
          }

          if (!agreeCheckbox.checked) {
            displayMessage('개인정보 수집 및 이용에 동의해야 등록이 가능합니다.');
            return;
          }

          // Create data object for Apps Script - CHANGED KEYS TO MATCH APPS SCRIPT
          const formData = {
            name: name,         // 'userName' -> 'name'
            phone: phone,       // 'userPhone' -> 'phone'
            address: address,   // 'userAddress' -> 'address'
            visitType: inquiry, // 'inquiryType' -> 'visitType'
            message: otherText  // 'otherInquiry' -> 'message'
          };
          console.log("Form data collected:", formData); // Debugging

          submitBtn.classList.add('btn-disabled'); // Disable button during submission
          submitBtn.disabled = true;
          submitBtn.textContent = '등록 중...'; // Provide user feedback
          console.log("Submit button disabled, text changed to '등록 중...'."); // Debugging

          try {
            // Send data to Apps Script web app
            const response = await fetch(APPS_SCRIPT_WEB_APP_URL, {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json'
              },
              body: JSON.stringify(formData)
            });
            console.log("Fetch request sent to Apps Script."); // Debugging

            const result = await response.json();
            console.log("Response from Apps Script:", result); // Debugging

            if (response.ok && result.success) {
              displayMessage('정상적으로 등록되었습니다! 담당자가 곧 연락드릴 예정입니다.');
              inquiryForm.reset();
              document.getElementById('otherInquiry').value = '';
              updateButtonState();
              console.log("Form submission successful."); // Debugging
            } else {
              displayMessage(`상담 예약 실패: ${result.message || '알 수 없는 오류가 발생했습니다.'}`);
              console.error("Form submission failed:", result); // Debugging
            }
          } catch (error) {
            console.error('Error submitting form:', error); // Debugging
            displayMessage('네트워크 오류가 발생했습니다. 다시 시도해주세요.');
          } finally {
            submitBtn.classList.remove('btn-disabled');
            submitBtn.disabled = false;
            submitBtn.textContent = '상담 예약 등록';
            console.log("Submit button re-enabled, text reset."); // Debugging
          }
        });
      } else {
        console.log("One or more inquiry form elements not found. Skipping form submission logic."); // Debugging
      }

      // Sparkle and Shooting Star canvas animation
      const sparkleCanvas = document.getElementById('sparkle-canvas');
      if (sparkleCanvas) {
        console.log("Sparkle canvas found. Initializing animation."); // Debugging
        const ctx = sparkleCanvas.getContext('2d');

        function resizeCanvas() {
          sparkleCanvas.width = sparkleCanvas.parentElement.clientWidth;
          sparkleCanvas.height = sparkleCanvas.parentElement.clientHeight;
          console.log(`Canvas resized to: ${sparkleCanvas.width}x${sparkleCanvas.height}`); // Debugging
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        const sparkles = [];
        const SPARKLE_COUNT = 50;

        const shootingStars = [];
        let timeToNextShootingStar = Math.floor(Math.random() * (1.5 * 60)) + (0.5 * 60);

        function createSparkle() {
          const hue = Math.floor(Math.random() * 360);
          const saturation = 70 + Math.random() * 30;
          const lightness = 70 + Math.random() * 30;
          const color = `hsl(${hue}, ${saturation}%, ${lightness}%)`;

          return {
            x: Math.random(),
            y: Math.random(),
            size: 2 + Math.random() * 5,
            alpha: 0.2 + Math.random() * 0.6,
            color: color,
            life: 300 + Math.random() * 500,
            age: 0
          };
        }

        function createShootingStar() {
          let startX, startY, angle;
          const edge = Math.floor(Math.random() * 3);

          if (edge === 0) {
            startX = Math.random() * sparkleCanvas.width;
            startY = -20;
            angle = Math.PI / 2 + (Math.random() - 0.5) * (Math.PI / 3.5);
          } else if (edge === 1) {
            startX = -20;
            startY = Math.random() * sparkleCanvas.height * 0.6;
            angle = (Math.random() * (Math.PI / 4)) + Math.PI / 8;
          } else {
            startX = sparkleCanvas.width + 20;
            startY = Math.random() * sparkleCanvas.height * 0.6;
            angle = Math.PI - ((Math.random() * (Math.PI / 4)) + Math.PI / 8);
          }

          const speed = (1.25 + Math.random() * 1.75) / 2;
          return {
            x: startX,
            y: startY,
            dx: Math.cos(angle) * speed,
            dy: Math.sin(angle) * speed,
            size: (1.5 + Math.random() * 2),
            tailLength: 50 + Math.random() * 50,
            color: `rgba(255, 255, ${Math.floor(210 + Math.random() * 46)}, 1)`,
            opacity: 0.6 + Math.random() * 0.4,
            life: 150 + Math.random() * 150,
            age: 0
          };
        }

        function drawStar(context, cx, cy, spikes, outerRadius, innerRadius) {
          let rot = Math.PI / 2 * 3;
          let x = cx;
          let y = cy;
          let step = Math.PI / spikes;

          context.beginPath();
          context.moveTo(cx, cy - outerRadius);
          for (let i = 0; i < spikes; i++) {
            x = cx + Math.cos(rot) * outerRadius;
            y = cy + Math.sin(rot) * outerRadius;
            context.lineTo(x, y);
            rot += step;

            x = cx + Math.cos(rot) * innerRadius;
            y = cy + Math.sin(rot) * innerRadius;
            context.lineTo(x, y);
            rot += step;
          }
          context.lineTo(cx, cy - outerRadius);
          context.closePath();
        }

        for (let i = 0; i < SPARKLE_COUNT; i++) {
          sparkles.push(createSparkle());
        }

        function drawEffects() {
          ctx.clearRect(0, 0, sparkleCanvas.width, sparkleCanvas.height);

          for (let s of sparkles) {
            const t = s.age / s.life;
            let sparkleAlpha = Math.sin(Math.PI * t);
            sparkleAlpha = Math.max(sparkleAlpha, 0.01);
            ctx.globalAlpha = s.alpha * sparkleAlpha;

            const actualX = s.x * sparkleCanvas.width;
            const actualY = s.y * sparkleCanvas.height;
            const actualSize = s.size * (0.8 + sparkleAlpha * 0.9);

            drawStar(ctx, actualX, actualY, 5, actualSize, actualSize / 2);

            ctx.fillStyle = s.color;
            ctx.shadowColor = s.color;
            ctx.shadowBlur = 10 + 20 * sparkleAlpha;
            ctx.fill();
            ctx.shadowBlur = 0;

            s.age++;
            if (s.age > s.life) {
              Object.assign(s, createSparkle());
            }
          }
          ctx.globalAlpha = 1;

          for (let i = shootingStars.length - 1; i >= 0; i--) {
            const ss = shootingStars[i];
            ss.x += ss.dx;
            ss.y += ss.dy;
            ss.age++;

            const lifeRatio = ss.age / ss.life;
            let currentOpacity;
            if (lifeRatio < 0.15) {
              currentOpacity = (lifeRatio / 0.15) * ss.opacity;
            } else if (lifeRatio > 0.75) {
              currentOpacity = (1 - (lifeRatio - 0.75) / 0.25) * ss.opacity;
            } else {
              currentOpacity = ss.opacity;
            }
            currentOpacity = Math.max(0, Math.min(1, currentOpacity));

            const gradient = ctx.createLinearGradient(
              ss.x - ss.dx * ss.tailLength, ss.y - ss.dy * ss.tailLength,
              ss.x, ss.y
            );
            gradient.addColorStop(0, ss.color.replace(/[\d\.]+(?=\))/, '0'));
            gradient.addColorStop(0.7, ss.color.replace(/[\d\.]+(?=\))/, currentOpacity.toFixed(2)));
            gradient.addColorStop(1, ss.color.replace(/[\d\.]+(?=\))/, currentOpacity.toFixed(2)));

            ctx.strokeStyle = gradient;
            ctx.lineWidth = ss.size * 0.3;
            ctx.lineCap = 'round';
            ctx.beginPath();
            ctx.moveTo(ss.x - ss.dx * ss.tailLength, ss.y - ss.dy * ss.tailLength);
            ctx.lineTo(ss.x, ss.y);
            ctx.stroke();

            const headOpacity = Math.min(1, currentOpacity * 1.2);
            const headColor = ss.color.replace(/[\d\.]+(?=\))/, headOpacity.toFixed(2));
            ctx.fillStyle = headColor;
            ctx.shadowColor = ss.color.replace(/[\d\.]+(?=\))/, (headOpacity * 0.7).toFixed(2));
            ctx.shadowBlur = 8 + ss.size * 3;
            ctx.beginPath();
            ctx.arc(ss.x, ss.y, ss.size, 0, Math.PI * 2);
            ctx.fill();
            ctx.shadowBlur = 0;

            let outOfBounds = false;
            const buffer = ss.tailLength * Math.max(Math.abs(ss.dx), Math.abs(ss.dy)) + 50;
            if (ss.dx > 0 && ss.x > sparkleCanvas.width + buffer) outOfBounds = true;
            else if (ss.dx < 0 && ss.x < -buffer) outOfBounds = true;
            if (ss.dy > 0 && ss.y > sparkleCanvas.height + buffer) outOfBounds = true;

            if (ss.age > ss.life || outOfBounds) {
              shootingStars.splice(i, 1);
              timeToNextShootingStar = Math.floor(Math.random() * (1.5 * 60)) + (0.5 * 60);
            }
          }

          if (shootingStars.length === 0) {
            if (timeToNextShootingStar <= 0) {
              shootingStars.push(createShootingStar());
            } else {
              timeToNextShootingStar--;
            }
          }
          requestAnimationFrame(drawEffects);
        }

        drawEffects(); // Start the animation loop
        console.log("Sparkle animation loop started."); // Debugging
      } else {
        console.log("Sparkle canvas not found. Skipping canvas animation."); // Debugging
      }

      // Reservation icon button logic: scroll to consultation booking form
      const reserveIconBtn = document.getElementById('reserveIconBtn');
      if (reserveIconBtn) {
        // 기존 상담 예약 폼이 숨겨졌으므로, 이 버튼의 기능도 잠정적으로 비활성화합니다.
        // 또는 다른 페이지로의 링크로 변경할 수도 있습니다.
        // 여기서는 클릭 이벤트를 제거하여 아무 동작도 하지 않도록 합니다.
        // reserveIconBtn.addEventListener('click', () => { ... });
        reserveIconBtn.style.display = 'none'; // 버튼 자체도 숨김
      }


      // 텍스트 줄 배열 (PC 버전)
      const linesPC = [
        '"살기 좋으니까 오르고,',
        '오르니까 사고 싶은 아파트"'
      ];

      // 텍스트 줄 배열 (모바일 버전)
      const linesMobile = [
        '"살기 좋으니까',
        '오르고, 오르니까',
        '사고 싶은 아파트"'
      ];

      // 각 글자별로 앞(컬러)+뒤(백드롭) 구성
      function createAnimatedText(lines) {
        let html = '';
        lines.forEach((line, idx) => {
          for (let ch of line) {
            if (ch === ' ') {
              html += `<span class="char-wrap">&nbsp;</span>`;
            } else {
              html += `
                <span class="char-wrap">
                  <span class="char-back">${ch}</span>
                  <span class="char">${ch}</span>
                </span>
              `;
            }
          }
          if (idx < lines.length - 1) html += '<br>';
        });
        return html;
      }

      // PC 버전 타이틀 생성 및 애니메이션 적용
      const animatedTitlePC = document.getElementById('animatedTitlePC');
      if (animatedTitlePC) {
        animatedTitlePC.innerHTML = createAnimatedText(linesPC);
        const charsPC = animatedTitlePC.querySelectorAll('.char');
        charsPC.forEach((el, i) => {
          setTimeout(() => {
            el.classList.add('reveal');
          }, i * 120);
        });
      }

      // 모바일 버전 타이틀 생성 및 애니메이션 적용
      const animatedTitleMobile = document.getElementById('animatedTitleMobile');
      if (animatedTitleMobile) {
        animatedTitleMobile.innerHTML = createAnimatedText(linesMobile);
        const charsMobile = animatedTitleMobile.querySelectorAll('.char');
        charsMobile.forEach((el, i) => {
          setTimeout(() => {
            el.classList.add('reveal');
          }, i * 120);
        });
      }

      // --- 이미지 슬라이더 기능 추가 ---
      /**
       * 이미지 슬라이더를 설정하는 함수
       * @param {string} sliderId 슬라이더 컨테이너의 ID
       * @param {string} imageClass 슬라이더 내 이미지들의 클래스 이름
       */
      function setupImageSlider(sliderId, imageClass) {
        const sliderContainer = document.getElementById(sliderId);
        if (!sliderContainer) {
          console.warn(`Slider container with ID "${sliderId}" not found.`);
          return;
        }

        const images = sliderContainer.querySelectorAll(`.${imageClass}`);
        if (images.length === 0) {
          console.warn(`No images found with class "${imageClass}" in slider "${sliderId}".`);
          return;
        }

        const prevButton = sliderContainer.querySelector('.slider-prev');
        const nextButton = sliderContainer.querySelector('.slider-next');
        let currentIndex = 0; // 현재 활성화된 이미지의 인덱스

        /**
         * 지정된 인덱스의 이미지를 표시하는 함수
         * @param {number} index 표시할 이미지의 인덱스
         */
        function showImage(index) {
          // 모든 이미지에서 'active' 클래스 제거
          images.forEach(img => img.classList.remove('active'));

          // 인덱스 유효성 검사 및 조정
          currentIndex = (index + images.length) % images.length;

          // 현재 이미지에 'active' 클래스 추가하여 표시
          images[currentIndex].classList.add('active');
          console.log(`Slider ${sliderId}: Showing image ${currentIndex + 1} of ${images.length}`);
        }

        // 이전 버튼 클릭 이벤트 리스너
        if (prevButton) {
          prevButton.addEventListener('click', () => {
            showImage(currentIndex - 1);
          });
        }

        // 다음 버튼 클릭 이벤트 리스너
        if (nextButton) {
          nextButton.addEventListener('click', () => {
            showImage(currentIndex + 1);
          });
        }

        // 초기 이미지 표시
        showImage(0);
        console.log(`Image slider "${sliderId}" initialized.`);
      }

      // 3. 유 니 트 (UNIT) 섹션 슬라이더 설정
      setupImageSlider('apartment-type-slider', 'apartment-slider-image');

      // 4. P R E M I U M 섹션 슬라이더 설정
      setupImageSlider('features-slider', 'slider-image');
      // --- 이미지 슬라이더 기능 추가 끝 ---

    });

    // 페이지 로드 후 서서히 안개 사라지게! (새로운 블러 로직)
    window.onload = function(){
      setTimeout(()=>{
        const fogElement = document.getElementById('fog');
        if (fogElement) {
          fogElement.classList.add('hide');
        } else {
          console.warn("Fog element not found for blur fade-out.");
        }
      }, 600); // 0.6초 뒤에 서서히 걷힌다
    }
  </script>
</body>
</html>
